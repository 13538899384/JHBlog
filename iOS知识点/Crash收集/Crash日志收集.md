## Crash日志收集

[iOS crash官方文档](https://developer.apple.com/library/archive/technotes/tn2151/_index.html)





<body class="" id=""><a name="//apple_ref/doc/uid/DTS40008184" title="技术说明TN2151"></a>
<div id="_omniture_top">
<!-- SiteCatalyst code version: H.8. Copyright 1997-2006 Omniture, Inc. -->
<script type="text/javascript">
/* RSID: */
var s_account="appleglobal,appleusdeveloper,dappdeveloperlib"
</script>

<script type="text/javascript" src="https://www.apple.com/metrics/scripts/s_code_h.js"></script>
<script type="text/javascript">
s.pageName=AC.Tracking.pageName();
s.channel="www.us.developer"

/************* DO NOT ALTER ANYTHING BELOW THIS LINE ! **************/
var s_code=s.t();if(s_code)document.write(s_code)</script>
<!-- End SiteCatalyst code version: H.8. -->
</div>
<div id="adcHeader" class="hideOnPrint hideInXcode">
<div id="ssi_Header" class="hideInXcode unified">
<a id="ssi_LibraryTitle" href="https://developer.apple.com/library/archive/navigation/" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/navigation/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档存档</font></font></a>
<a id="ssi_AppleDeveloperConnection" href="https://developer.apple.com/" onclick="s_objectID=&quot;https://developer.apple.com/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">开发人员</font></font></a>
<div id="ssi_SearchButton" role="button" title="搜索"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索</font></font></div>
</div>
<form id="ssi_SearchMenu" method="get" action="../../search/" accept-charset="utf-8">
<label for="adcsearch"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">搜索文档存档</font></font></label>



<input type="search" id="ssi_SearchField" name="q" accesskey="s" results="5">
</form>
</div>

<header id="header">
<div id="title" role="banner">
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解和分析应用程序崩溃报告</font></font></h1>
<span id="file_links">
<a id="PDF_link" role="button" tabindex="4" rel="alternate" title="Download PDF" class=""><span id="pdf_icon"></span>PDF</a>
<a id="Companion_link" role="button" tabindex="3" title="Download Companion File" class=""><span id="companion_icon"></span>Companion File</a>
</span>
</div>
<ul id="headerButtons" class="hideOnPrint" role="toolbar">
<li id="toc_button" style="display:none">
<button tabindex="5" id="table_of_contents" class="" role="checkbox" aria-label="Show Table of Contents"><span class="disclosure"></span>Table of Contents</button>
</li>
<li id="jumpto_button" style="display:none" role="navigation"><select tabindex="6" id="jumpTo"><option value="top">Jump To…</option></select></li>
<li id="downloadSample_button" style="display:none">
<a id="Sample_link"><button id="Sample_button">Download Sample Code</button></a>
</li>
</ul>
</header>
<nav id="tocContainer" tabindex="7" class="">
<ul id="toc" role="tree"></ul>
</nav>

<article id="contents" tabindex="0" role="main" class="dts_doc">
<!-- CONTENTS -->
<div id="pageNavigationLinks_top" class="pageNavigationLinks">

</div>
<a id="top" name="top"></a>
<a id="INDEX" href="index.html" style="display:none;" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/index.html_1&quot;;return this.s_oc?this.s_oc(e):true"></a>

<a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_2" title="技术说明TN2151"></a><div class="dtsDocNumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术说明TN2151</font></font></div><h1 id="pageTitle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解和分析应用程序崩溃报告</font></font></h1><div class="importantbox clear"><aside><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;此文档不再更新。</font><font style="vertical-align: inherit;">有关Apple SDK的最新信息，请访问</font></font><span class="content_text"><a href="https://developer.apple.com/documentation" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/documentation_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档网站</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当应用程序崩溃时，会创建一个崩溃报告，这对于了解导致崩溃的原因非常有用。</font><font style="vertical-align: inherit;">本文档包含有关如何表示，理解和解释崩溃报告的基本信息。</font></font></p>


<div class="outerMiniTOC">



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-INTRODUCTION" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ACQUIRING_CRASH_AND_LOW_MEMORY_REPORTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取崩溃和低内存报告</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">象征性的崩溃报告</font></font></a>



<div class="nestedMiniTOC">


<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-BITCODE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_4&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位码</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-_DETERMINING_WHETHER_A_CRASH_REPORT_IS_SYMBOLICATED" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_5&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定崩溃报告是否符号化</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATEWITHXCODE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_6&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用Xcode标记iOS崩溃报告</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATE_WITH_ATOS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_7&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用atos表示崩溃报告</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATIONTROUBLESHOOTING" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_8&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号故障排除</font></font></a>

</div>


</div>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_9&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析崩溃报告</font></font></a>



<div class="nestedMiniTOC">


<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-CRASH_HEADER" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_10&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_11&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外信息</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-APPINFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_12&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他诊断信息</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_13&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-THREAD_STATE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_14&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程状态</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-BINARY_IMAGES" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_15&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font></a>

</div>


</div>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-UNDERSTANDING_LOW_MEMORY_REPORTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_16&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解低内存报告</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-RELATED_DOCUMENTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_17&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关文件</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-RevisionHistory-DontLinkElementID_1" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_18&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档修订历史</font></font></a>



</div>


</div>

<section><a name="//apple_ref/doc/uid/DTS40008184-CH1-INTRODUCTION" title="介绍"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当应用程序崩溃时，</font><font style="vertical-align: inherit;">会创建</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将其存储在设备上。</font><font style="vertical-align: inherit;">崩溃报告描述了应用程序终止的条件，在大多数情况下包括每个执行线程的完整回溯，并且通常对于调试应用程序中的问题非常有用。</font><font style="vertical-align: inherit;">您应该查看这些崩溃报告，以了解您的应用程序崩溃了什么，然后尝试修复它们。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有回溯的崩溃报告需要</font><font style="vertical-align: inherit;">在进行分析之前</font><font style="vertical-align: inherit;">进行</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">符号化用人类可读的函数名称和行号替换内存地址。</font><font style="vertical-align: inherit;">如果您通过Xcode的设备窗口从设备上获取崩溃日志，那么几秒钟后它们将自动被符号化。</font><font style="vertical-align: inherit;">否则，您需要通过将</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件导入Xcode Devices窗口</font><font style="vertical-align: inherit;">来自行符号化</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_19&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低内存报告</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同之处在于有这类型的报告没有回溯其他的崩溃报告。</font><font style="vertical-align: inherit;">当发生低内存崩溃时，您必须调查内存使用模式以及对低内存警告的响应。</font><font style="vertical-align: inherit;">本文档向您指出了一些您可能会觉得有用的内存管理参考。</font></font></p><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ACQUIRING_CRASH_AND_LOW_MEMORY_REPORTS" title="获取崩溃和低内存报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取崩溃和低内存报告</font></font></h2><p><span class="content_text"><a href="https://developer.apple.com/library/ios/#qa/qa1747/_index.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/#qa/qa1747/_index.html_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试已部署的iOS应用程序</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论了如何直接从iOS设备检索崩溃和低内存报告。</font></font></p><p><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析“ </font></font></a></span><font style="vertical-align: inherit;"></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introduction/Introduction.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introd_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序分发指南</font></font></a></span><font style="vertical-align: inherit;"><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">”</font></a></span><font style="vertical-align: inherit;">中的</font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">崩溃报告</font></a></span><font style="vertical-align: inherit;">讨论了如何查看从TestFlight beta测试人员和从App Store下载应用程序的用户收集的聚合崩溃报告。</font></font></p><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION" title="象征性的崩溃报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">象征性的崩溃报告</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化是将</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址</font><font style="vertical-align: inherit;">解析</font><font style="vertical-align: inherit;">为源代码方法或函数名称（称为符号）的过程。</font><font style="vertical-align: inherit;">如果没有首先表示崩溃报告，则很难确定崩溃发生的位置。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_3" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;低内存报告不需要进行符号化。</font></font></p><p></p></aside></div><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_4" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;macOS的崩溃报告通常在生成时被符号化或部分符号化。</font><font style="vertical-align: inherit;">本节重点介绍iOS，watchOS和tvOS的崩溃报告，但整个过程与macOS类似。</font></font></p><p></p></aside></div><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE1" title="图1崩溃报告和符号化过程概述"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图1</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;崩溃报告和符号化过程概述。</font></font></figcaption><img src="Art/tn2151_crash_flow.png" class="wide-image" alt="" width="1024" height="1600"><img src="Art/tn2151_crash_flow.png" class="ipad-scaled-image" alt="" width="670" height="1046"></figure><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当编译器将源代码转换为机器代码时，它还会生成调试符号，这些符号将编译后的二进制文件中的每个机器指令映射回源自它的源代码行。</font><font style="vertical-align: inherit;">根据</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debug Information Format</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>DEBUG_INFORMATION_FORMAT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）构建设置，这些调试符号存储在二进制文件或伴随的Debug Symbol（</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）文件中。</font><font style="vertical-align: inherit;">默认情况下，应用程序的调试版本将调试符号存储在已编译的二进制文件中，而应用程序的发布版本将调试符号存储在配套</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中以减小二进制文件大小。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试符号文件和应用程序二进制文件通过构建UUID在每个构建的基础上绑定在一起。</font><font style="vertical-align: inherit;">为应用程序的每个构建生成一个新的UUID，并唯一标识该构建。</font><font style="vertical-align: inherit;">即使从相同的源代码重建功能相同的可执行文件，使用相同的编译器设置，它也将具有不同的构建UUID。</font><font style="vertical-align: inherit;">调试来自后续版本的符号文件，即使是来自相同的源文件，也不会与来自其他版本的二进制文件互操作。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归档应用程序以进行分发时，Xcode将收集应用程序二进制文件以及。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将文件存储并保存在主文件夹内的某个位置。</font><font style="vertical-align: inherit;">您可以在“已存档”部分的Xcode管理器中找到所有已存档的应用程序。</font><font style="vertical-align: inherit;">有关创建存档的更多信息，请参阅“ </font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introduction/Introduction.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introd_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序分发指南”</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_5" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要点：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;要表示来自测试人员，应用程序审阅和客户的崩溃报告，您必须保留所分发的应用程序的每个版本的存档。</font></font></p><p></p></aside></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您通过App Store分发应用程序，或使用Test Flight进行beta测试，您可以选择</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在将存档上传到iTunes Connect时</font><font style="vertical-align: inherit;">包含该</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">在提交对话框中，选中“为您的应用程序包含应用程序符号...”。</font><font style="vertical-align: inherit;">上传</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件对于接收从TestFlight用户和选择共享诊断数据的客户收集的崩溃报告是必要的。</font><font style="vertical-align: inherit;">有关崩溃报告服务的更多信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App Distribution Guide</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_6" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使您</font><font style="vertical-align: inherit;">在将存档上传到iTunes Connect时</font><font style="vertical-align: inherit;">包含该</font><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">&nbsp;从App Review收到的崩溃报告也将是非</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化的</font></font><!--/a--></span><font style="vertical-align: inherit;"></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您需要使用Xcode对从App Review收到的任何崩溃报告进行符号化。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATEWITHXCODE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_20&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Xcode标记iOS崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p></p></aside></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您的应用程序崩溃时，</font><font style="vertical-align: inherit;">会创建</font><font style="vertical-align: inherit;">一个非</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化的</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告并将其存储在设备上。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户可以按照</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/#qa/qa1747/_index.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/#qa/qa1747/_index.html_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试已部署的iOS应用程序中</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的步骤直接从其设备检索崩溃报告</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您通过AdHoc或Enterprise分发分发了应用程序，则这是从用户获取崩溃报告的唯一方法。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从设备检索到的崩溃报告</font><font style="vertical-align: inherit;">是非</font><span class="content_text"><font style="vertical-align: inherit;">符号</font></span></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">化的</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，需要</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Xcode</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行</font><span class="content_text"><font style="vertical-align: inherit;">符号化</font></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Xcode使用</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与应用程序二进制文件关联</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件将</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯中的</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个地址替换为</font><font style="vertical-align: inherit;">源代码中的原始位置。</font><font style="vertical-align: inherit;">结果是一个符号化的崩溃报告。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果用户选择与Apple共享诊断数据，或者用户已通过TestFlight安装了应用程序的测试版，则崩溃报告将上载到App Store。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App Store表示崩溃报告，并将其与类似的崩溃报告分组。</font><font style="vertical-align: inherit;">这种类似崩溃报告的汇总称为崩溃点。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode的Crashes组织者可以使用符号化的崩溃报告。</font></font></p></li></ol><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-BITCODE" title="位码"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位码</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bitcode是编译程序的中间表示。</font><font style="vertical-align: inherit;">当您使用bitcode存档应用程序时，编译器会生成包含bitcode而不是机器代码的二进制文件。</font><font style="vertical-align: inherit;">将二进制文件上传到App Store后，bitcode将编译为机器代码。</font><font style="vertical-align: inherit;">App Store可能会在将来再次编译bitcode，以利用未来的编译器改进，而无需您采取任何操作。</font></font></p><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE2" title="图2 Bitcode编译过程概述"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;Bitcode编译过程概述。</font></font></figcaption><img src="Art/tn2151_bitcode_overview.png" class="wide-image" alt="" width="1023" height="207"><img src="Art/tn2151_bitcode_overview.png" class="ipad-scaled-image" alt="" width="670" height="135"></figure><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于二进制文件的最终编译发生在App Store上，因此Mac不会包含用于表示</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从App Review收到的崩溃报告或从其设备向您发送崩溃报告的用户所需</font><font style="vertical-align: inherit;">的调试符号（</font><font style="vertical-align: inherit;">）文件。</font><font style="vertical-align: inherit;">虽然</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归档应用程序时会生成</font><font style="vertical-align: inherit;">一个</font><font style="vertical-align: inherit;">文件，但它是用于bitcode二进制文件，不能用于表示崩溃报告。</font><font style="vertical-align: inherit;">App Store使</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以从Xcode或iTunes Connect网站下载bitcode编译期间生成</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">您必须下载这些</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，以便表示从App Review或从其设备向您发送崩溃报告的用户收到的崩溃报告。</font><font style="vertical-align: inherit;">通过崩溃报告服务收到的崩溃报告将自动进行符号化。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_7" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;App Store编译的二进制文件将具有与最初提交的二进制文件不同的UUID。</font></font></p><p></p></aside></div><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-DOWNLOAD_DSYM" title="从Xcode下载dSYM文件"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从Xcode下载dSYM文件</font></font></h4><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Archives管理器中，选择最初提交到App Store的存档。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击“下载dSYMs”按钮。</font></font></p></li></ol><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode下载</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件并将其插入选定的存档。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION_BITCODE-DOWNLOADING_THE_DSYM_FILES_FROM_THE_ITUNES_CONNECT_WEBSITE" title="从iTunes Connect网站下载dSYM文件"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从iTunes Connect网站下载dSYM文件</font></font></h4><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开“应用详情”页面。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击活动。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从“所有构建”列表中，选择一个版本。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载dSYM”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接。</font></font></p></li></ol></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION_BITCODE-TRANSLATING__HIDDEN__SYMBOL_NAMES_BACK_TO_THEIR_ORIGINAL_NAMES" title="将“隐藏”符号名称翻译回原始名称"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将“隐藏”符号名称翻译回原始名称</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您将带有bitcode的应用程序上传到App Store时，您可以选择不通过取消选中“上传您的应用程序的符号以从Apple接收符号化报告”框来发送应用程序的符号。</font><font style="vertical-align: inherit;">如果您选择不将应用程序的符号信息发送给Apple，Xcode将替换您应用程序中的符号。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在将应用程序发送到iTunes Connect之前，带有模糊符号的文件，例如“__hidden＃109_”。</font><font style="vertical-align: inherit;">Xcode在原始符号和“隐藏”符号之间创建映射，并将此映射存储</font></font><code>.bcsymbolmap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在应用程序归档内的文件中。</font><font style="vertical-align: inherit;">每个。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件将有一个相应的</font></font><code>.bcsymbolmap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在对崩溃报告进行符号化之前，您需要对符号中的符号进行去混淆。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从iTunes Connect下载的文件。</font><font style="vertical-align: inherit;">如果您使用Xcode中的下载dSYMs按钮，将自动执行此去混淆。</font><font style="vertical-align: inherit;">但是，如果您使用iTunes Connect网站下载。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，打开终端并使用以下命令对符号进行反模糊处理（用您自己的存档替换示例路径和从iTunes Connect下载的dSYMs文件夹）：</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE1"></a><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xcrun dsymutil -symbol-map~ / Library / Developer / Xcode / Archives / 2017-11-23 / MyGreatApp \ 11-23-17 \，\ 12.00 \ PM.xcarchive / BCSymbolMaps~ / Downloads / dSYMs / 3B15C133-88AA-35B0 -B8BA-84AF76826CE0.dSYM</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为每个运行此命令。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您下载的dSYMs文件夹中的文件。</font></font></p></section></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-_DETERMINING_WHETHER_A_CRASH_REPORT_IS_SYMBOLICATED" title=" 确定崩溃报告是否符号化"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 确定崩溃报告是否符号化</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告可以是非符号化的，完全符号化的或部分符号化的。</font><font style="vertical-align: inherit;">非符号化的崩溃报告将不包含</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯中</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的方法或函数名称</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">相反，您在加载的二进制图像中具有可执行代码的十六进制地址。</font><font style="vertical-align: inherit;">在完全符号化的崩溃报告中，</font><font style="vertical-align: inherit;">回溯的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每一</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行中的</font><font style="vertical-align: inherit;">十六进制地址</font><font style="vertical-align: inherit;">将替换为相应的符号。</font><font style="vertical-align: inherit;">在部分符号化的崩溃报告中，只有回溯中的某些地址已替换为其相应的符号。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显然，您应该尝试完全符合您收到的任何崩溃报告，因为它将提供有关崩溃的最深入见解。</font><font style="vertical-align: inherit;">部分符号化的崩溃报告可能包含足够的信息来了解崩溃，具体取决于崩溃的类型以及成功符号化的回溯的哪些部分。</font><font style="vertical-align: inherit;">非符号化的崩溃报告很少有用。</font></font></p><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE3" title="图3在各种符号级别上的相同回溯。"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图3</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;各种符号级别的相同回溯。</font></font></figcaption><img src="Art/tn2151_symbolication_levels.png" class="wide-image" alt="" width="920" height="693"><img src="Art/tn2151_symbolication_levels.png" class="ipad-scaled-image" alt="" width="670" height="504"></figure></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATEWITHXCODE" title="用Xcode标记iOS崩溃报告"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用Xcode标记iOS崩溃报告</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode将自动尝试表示它遇到的所有崩溃报告。</font><font style="vertical-align: inherit;">您需要为符号化做的只是将崩溃报告添加到Xcode Organizer。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_8" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;Xcode不接受没有</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名的</font><font style="vertical-align: inherit;">崩溃报告</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您收到没有扩展程序或扩展程序的崩溃报告，请</font><font style="vertical-align: inherit;">在执行下面列出的步骤之前</font></font><code>.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其重命名为</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展程序。</font></font></p><p></p></aside></div><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将iOS设备连接到Mac</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从“窗口”菜单中选择“设备”</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在左列的“设备”部分下，选择一个设备</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击右侧面板“设备信息”部分下的“查看设备日志”按钮</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将崩溃报告拖到所显示面板的左列</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode将自动表示崩溃报告并显示结果</font></font></p></li></ol><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了表示崩溃报告，Xcode需要能够找到以下内容：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃的应用程序的二进制</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">文件。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序链接的所有自定义框架</font><font style="vertical-align: inherit;">的二进制文件和</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">对于使用应用程序从源构建的框架，它们的</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件将与应用程序的</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">一起复制到存档中</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于由第三方构建的框架，您需要向作者询问该</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃时该应用程序运行的操作系统的符号。</font><font style="vertical-align: inherit;">这些符号包含特定操作系统版本（例如iOS 9.3.3）中包含的框架的调试信息。</font><font style="vertical-align: inherit;">OS符号是特定于体系结构的 - 用于64位设备的iOS版本不包含armv7符号。</font><font style="vertical-align: inherit;">Xcode将自动从连接到Mac的每个设备复制OS符号。</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果缺少任何这些，Xcode可能无法表示崩溃报告，或者可能只是</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分地</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示崩溃报告。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATE_WITH_ATOS" title="用atos表示崩溃报告"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用atos表示崩溃报告</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该 </font></font><span class="content_text"><a href="x-man-page://atos" class="urlLink" rel="external" onclick="s_objectID=&quot;x-man-page://atos_1&quot;;return this.s_oc?this.s_oc(e):true"><codevoice><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATOS</font></font></codevoice></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令将数字地址转换为其符号等效项。</font><font style="vertical-align: inherit;">如果有完整的调试符号信息，则输出</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将包括文件名和源行号信息。</font><font style="vertical-align: inherit;">该</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令可用于在非符号化或部分符号化的崩溃报告的回溯中表示各个地址。</font><font style="vertical-align: inherit;">使用</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下命令</font><font style="vertical-align: inherit;">表示崩溃报告的一部分</font><font style="vertical-align: inherit;">：</font></font></p><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯中</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到</font><font style="vertical-align: inherit;">要符号化的行。</font><font style="vertical-align: inherit;">请注意第二列中二进制图像的名称，以及第三列中的地址。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在崩溃报告底部的</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表中查找具有该名称的</font><span class="content_text"><font style="vertical-align: inherit;">二进制图像</font></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请注意二进制映像的体系结构和加载地址。</font></font></p></li></ol><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE4" title="图4使用atos所需的崩溃报告中的信息。"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图4</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;需要使用的崩溃报告中的信息</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></figcaption><img src="Art/tn2151_atos_info.png" class="wide-image" alt="" width="828" height="238"><img src="Art/tn2151_atos_info.png" class="ipad-scaled-image" alt="" width="670" height="192"></figure><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件。</font><font style="vertical-align: inherit;">您可以使用Spotlight查找</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制映像的UUID </font><font style="vertical-align: inherit;">的匹配</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATIONTROUBLESHOOTING" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_21&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化故障排除</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件是捆绑包，其中包含一个文件，其中包含编译器在构建时生成的DWARF调试信息。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在调用时</font><font style="vertical-align: inherit;">，您必须提供此文件的路径，而不是</font><font style="vertical-align: inherit;">包</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用上述信息，您可以使用该</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">在回溯中对地址进行符号化</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以指定多个要符号化的地址，用空格分隔。</font></font></p><p><code>atos -arch &lt;Binary Architecture&gt; -o &lt;Path to dSYM file&gt;/Contents/Resources/DWARF/&lt;binary image name&gt; -l &lt;load address&gt; &lt;address to symbolicate&gt;</code></p></li></ol><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE2" title="清单1遵循上述步骤的atos命令的示例用法以及结果输出。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单1</font></font></strong><font style="vertical-align: inherit;"></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遵循上述步骤</font><font style="vertical-align: inherit;">&nbsp;&nbsp;的</font><font style="vertical-align: inherit;">命令的</font><font style="vertical-align: inherit;">示例用法</font><font style="vertical-align: inherit;">以及结果输出。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ atos -arch arm64 -o TheElements.app.dSYM / Contents / Resources / DWARF / TheElements -l 0x1000e4000 0x00000001000effdc</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-  [AtomicElementViewController myTransitionDidStop：finished：context：]</font></font><span></span></pre></td></tr></tbody></table></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATIONTROUBLESHOOTING" title="符号故障排除"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号故障排除</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Xcode未能完全符合崩溃报告，可能是因为您的Mac缺少</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序二进制</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的文件，应用程序链接的一个或多个框架的文件，或者应用程序运行的OS的设备符号它坠毁了。</font><font style="vertical-align: inherit;">以下步骤显示如何使用Spotlight确定</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Mac上是否存在表示二进制图像中的回溯地址所需</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font></font></p><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE5" title="图5为二进制映像定位UUID。"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图5</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;找到二进制映像的UUID。</font></font></figcaption><img src="Art/tn2151_find_uuid.png" class="wide-image" alt="" width="828" height="347"><img src="Art/tn2151_find_uuid.png" class="ipad-scaled-image" alt="" width="670" height="280"></figure><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中找到Xcode无法符号化的行。</font><font style="vertical-align: inherit;">请注意第二列中二进制图像的名称。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在崩溃报告底部的</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表中查找具有该名称的</font><span class="content_text"><font style="vertical-align: inherit;">二进制图像</font></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此列表包含崩溃时加载到进程中的每个二进制映像的UUID。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE3" title="清单2您可以使用grep命令行工具快速查找二进制图像列表中的条目。"></a><br><br><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;您可以使用</font></font><code>grep</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行工具快速查找二进制映像列表中的条目。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ grep --after-context = 1000“二进制图像：”&lt;崩溃报告的路径&gt; | </font><font style="vertical-align: inherit;">grep &lt;二进制名称&gt;</font></font><span></span></pre></td></tr></tbody></table></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将二进制映像的UUID转换为以8-4-4-4-12（</font></font><code>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">为一组分隔的32个字符串</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请注意，所有字母</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是大写的。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行工具使用查询</font><font style="vertical-align: inherit;">搜索UUID </font></font><code>"com_apple_xcode_dsym_uuids == &lt;UUID&gt;"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（包括引号）。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE4" title="清单3使用mdfind命令行工具搜索具有给定UUID的dSYM文件。"></a><br><br><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单3</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;使用</font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行工具搜索</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有给定UUID的文件。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ mdfind“com_apple_xcode_dsym_uuids == &lt;UUID&gt;”</font></font><span></span></pre></td></tr></tbody></table></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Spotlight找到</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UUID </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件，</font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将打印该</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">的路径，</font><font style="vertical-align: inherit;">并可能</font><font style="vertical-align: inherit;">打印</font><font style="vertical-align: inherit;">其包含的存档。</font><font style="vertical-align: inherit;">如果</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找不到UUID </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件，   </font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将退出而不打印任何内容。</font></font></p></li></ol><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Spotlight找到了</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件，但Xcode无法对该二进制映像中的地址进行符号化，那么您应该提交一个错误。</font><font style="vertical-align: inherit;">将崩溃报告和相关</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">附加</font><font style="vertical-align: inherit;">到错误报告中。</font><font style="vertical-align: inherit;">作为解决方法，您可以使用手动对地址进行符号化</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATE_WITH_ATOS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_22&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用atos标记崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Spotlight没有找到</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制映像，请确认您仍然拥有崩溃的应用程序版本的Xcode存档，并且此存档位于Spotlight可以找到它的位置（主目录中的任何位置都应该这样做）。</font><font style="vertical-align: inherit;">如果您的应用程序是在启用bitcode的情况下构建的，请确保</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已从App Store </font><font style="vertical-align: inherit;">下载</font><font style="vertical-align: inherit;">了最终编译</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-DOWNLOAD_DSYM" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_23&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从Xcode下载dSYM文件</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您认为</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制映像</font><font style="vertical-align: inherit;">具有正确性</font><font style="vertical-align: inherit;">，则可以使用该</font></font><code>dwarfdump</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令打印匹配的UUID。</font><font style="vertical-align: inherit;">您还可以使用该</font></font><code>dwarfdump</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令打印二进制文件的UUID。</font></font></p><p><code>xcrun dwarfdump --uuid &lt;Path to dSYM file&gt;</code></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_9" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;您必须拥有最初提交到App Store的存档，以查找崩溃的应用程序版本。</font><font style="vertical-align: inherit;">的</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件和应用程序二进制每个累积的基础上具体绑在一起。</font><font style="vertical-align: inherit;">即使从相同的源和构建配置创建新存档，也不会生成</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可与崩溃构建互操作</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您不再拥有此存档，则应提交保留存档的应用程序的新版本。</font><font style="vertical-align: inherit;">然后，您将能够为此新版本标记崩溃报告。</font></font></p></section><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS" title="分析崩溃报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析崩溃报告</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节讨论标准崩溃报告中的每个部分。</font></font></p><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-CRASH_HEADER" title="头"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个崩溃报告都以标题开头。 </font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE5" title="清单4崩溃报告中标题的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单4</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;崩溃报告中标题的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事件标识符：B6FD1E8E-B39F-430B-ADDE-FC3A45ED368C</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CrashReporter密钥：f04e68ec62d3c66057628c9ba9839e30d55937dc</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">硬件型号：iPad6,8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程：TheElements [303]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路径：/private/var/containers/Bundle/Application/888C1FA2-3666-4AE2-9E8E-62E2F787DEC1/TheElements.app/TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标识符：com.example.apple-samplecode.TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本：1.12</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码类型：ARM-64（Native）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作用：前景</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">父流程：launchd [1]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">联盟：com.example.apple-samplecode.Thelements [402]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期/时间：2016-08-22 10：43：07.5806 -0700</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布时间：2016-08-22 10：43：01.0293 -0700</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统版本：iPhone OS 10.0（14A5345a）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告版本：104</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大多数领域都是不言自明的，但有一些值得特别注意：</font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事件标识符</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：报告的唯一标识符。</font><font style="vertical-align: inherit;">两个报告永远不会共享相同的事件标识符。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CrashReporter密钥</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：匿名的每设备标识符。</font><font style="vertical-align: inherit;">来自同一设备的两个报告将包含相同的值。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beta标识符</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃应用程序的设备和供应商组合的唯一标识符。</font><font style="vertical-align: inherit;">来自同一供应商和同一设备的两个应用程序报告将包含相同的值。</font><font style="vertical-align: inherit;">此字段仅存在于为通过TestFlight分发的应用程序生成的崩溃报告中，并替换CrashReporter Key字段。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃</font><strong><font style="vertical-align: inherit;">进程</font></strong><font style="vertical-align: inherit;">的可执行文件名称。</font><font style="vertical-align: inherit;">这与</font></font><code>CFBundleExecutable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序的信息属性列表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">键值</font><font style="vertical-align: inherit;">匹配</font><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃的进程版本。</font><font style="vertical-align: inherit;">该字段的值是崩溃的应用程序</font></font><code>CFBundleVersion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">的串联</font></font><code>CFBundleVersionString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃的进程的目标体系结构。</font><font style="vertical-align: inherit;">这将是一</font></font><code>ARM-64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>ARM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>x86-64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或</font></font><code>x86</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">角色</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><span class="content_text"><a href="http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h" class="urlLink" rel="external" onclick="s_objectID=&quot;http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止时</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配给进程</font><font style="vertical-align: inherit;">的</font><span class="content_text"><a href="http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h" class="urlLink" rel="external" onclick="s_objectID=&quot;http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">task_role</font></a></span><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统版本</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：发生崩溃的操作系统版本，包括内部版本号。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" title="例外信息"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外信息</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不要与Objective-C / C ++异常混淆（尽管其中一个可能是崩溃的原因），本节列出Mach </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和相关字段，它们提供有关崩溃性质的信息。</font><font style="vertical-align: inherit;">并非每个崩溃报告中都会出现所有字段。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE6" title="清单5由于未捕获的Objective-C异常导致进程终止时生成的崩溃报告中的Exception Codes部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单5</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;由于未捕获的Objective-C异常导致进程终止时生成的崩溃报告中的Exception Codes部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外类型：EXC_CRASH（SIGABRT）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外代码：0x0000000000000000,0x0000000000000000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外注意：EXC_CORPSE_NOTIFY</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由线程触发：0</font></font><span></span></pre></td></tr></tbody></table></div><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE7" title="清单6当进程因为取消引用NULL指针而终止时生成的崩溃报告中的Exception Codes部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单6</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;当进程因为取消引用NULL指针而终止时生成的崩溃报告中的Exception Codes部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外类型：EXC_BAD_ACCESS（SIGSEGV）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型：KERN_INVALID_ADDRESS位于0x0000000000000000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止信号：分段故障：11</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因：命名空间SIGNAL，代码0xb</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止进程：exc处理程序[0]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由线程触发：0</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面介绍可能出现在本节中的字段的说明。 </font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：有关异常的处理器特定信息，编码为一个或多个64位十六进制数。</font><font style="vertical-align: inherit;">通常，此字段将不存在，因为Crash Reporter会解析异常代码以将其作为人类可读的描述呈现在其他字段中。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：异常代码的人类可读名称。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从异常代码中提取的其他人类可读信息。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常注意</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：非特定于一种异常类型的附加信息。</font><font style="vertical-align: inherit;">如果该字段包含，</font></font><code>SIMULATED (this is NOT a crash)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么进程没有崩溃，但是在系统请求时被杀死，通常是看门狗。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：终止进程时指定的退出原因信息。</font><font style="vertical-align: inherit;">进程内部和外部的关键系统组件将在遇到致命错误时终止进程（例如，错误的代码签名，缺少的依赖库，或在没有适当权利的情况下访问隐私敏感信息）。</font><font style="vertical-align: inherit;">macOS Sierra，iOS 10，watchOS 3和tvOS 10采用了新的基础设施来记录这些错误，这些操作系统生成的崩溃报告列出了终止原因字段中的错误消息。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由线程触发</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：发生异常的线程。</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下部分介绍了一些最常见的异常类型：</font></font></p><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-BAD_MEMORY_ACCESS__EXC_BAD_ACCESS____SIGSEGV____SIGBUS_" title="内存访问不良[EXC_BAD_ACCESS // SIGSEGV // SIGBUS]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存访问不良[EXC_BAD_ACCESS // SIGSEGV // SIGBUS]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该进程尝试访问无效内存，或者尝试以内存保护级别不允许的方式访问内存（例如，写入只读内存）。</font><font style="vertical-align: inherit;">该</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外子类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段包含一个</font></font><code>kern_return_t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述错误，并且被错误地访问的存储器的地址。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是调试错误内存访问崩溃的一些提示：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">崩溃线程</font><font style="vertical-align: inherit;">的</font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_24&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">Backtraces</font></a></span><font style="vertical-align: inherit;">顶部</font></font><code>objc_msgSend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>objc_release</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附近</font><font style="vertical-align: inherit;">，则该进程可能已尝试向已释放的对象发送消息。</font><font style="vertical-align: inherit;">您应该使用</font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">Zombies工具</font></a></span><font style="vertical-align: inherit;">对</font><font style="vertical-align: inherit;">应用程序进行概要分析，</font><font style="vertical-align: inherit;">以便更好地了解此崩溃的情况。</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_24&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"></font></a></span><font style="vertical-align: inherit;"></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"></font></a></span><font style="vertical-align: inherit;"></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">在崩溃线程</font></font><code>gpus_ReturnNotPermittedKillClient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_25&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顶部附近</font><font style="vertical-align: inherit;">，则该进程被终止，因为它在后台尝试使用OpenGL ES或Metal进行渲染。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/qa/qa1766/_index.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/qa/qa1766/_index.html_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QA1766：如何在移动到后台时修复OpenGL ES应用程序崩溃</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用</font></font><span class="content_text"><a href="https://developer.apple.com/videos/play/wwdc2015/413/" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/play/wwdc2015/413/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Address Sanitizer</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行您的应用程序</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">地址清理程序在已编译的代码中添加了有关内存访问的附加检测。</font><font style="vertical-align: inherit;">当您的应用程序运行时，如果以可能导致崩溃的方式访问内存，Xcode将提醒您。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-ABNORMAL_EXIT__EXC_CRASH____SIGABRT_" title="异常退出[EXC_CRASH // SIGABRT]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常退出[EXC_CRASH // SIGABRT]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程异常退出。</font><font style="vertical-align: inherit;">使用此异常类型导致崩溃的最常见原因是未被​​捕获的Objective-C / C ++ </font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和调用</font></font><code>abort()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果App Extensions花费太多时间进行初始化（看门狗终止），它将以此异常类型终止。</font><font style="vertical-align: inherit;">如果由于启动时挂起而导致扩展名被</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则生成的崩溃报告</font><font style="vertical-align: inherit;">的</font><strong><font style="vertical-align: inherit;">异常子类型</font></strong><font style="vertical-align: inherit;">将是</font></font><code>LAUNCH_HANG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于扩展没有</font></font><code>main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数，因此初始化所花费的时间都发生在</font></font><code>+load</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展和依赖库中的</font><font style="vertical-align: inherit;">静态构造函数和</font><font style="vertical-align: inherit;">方法中。</font><font style="vertical-align: inherit;">你应该尽可能多地推迟这项工作。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-TRACE_TRAP__EXC_BREAKPOINT____SIGTRAP_" title="跟踪陷阱[EXC_BREAKPOINT // SIGTRAP]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跟踪陷阱[EXC_BREAKPOINT // SIGTRAP]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常退出</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类似</font><font style="vertical-align: inherit;">，此异常旨在为附加的调试器提供在其执行的特定点中断进程的机会。</font><font style="vertical-align: inherit;">您可以使用该</font></font><code>__builtin_trap()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font><font style="vertical-align: inherit;">从您自己的代码中触发此异常</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果未附加调试器，则终止该过程并生成崩溃报告。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较低级别的库（例如libdispatch）会在遇到致命错误时捕获进程。</font><font style="vertical-align: inherit;">有关错误的其他信息可以</font><font style="vertical-align: inherit;">在崩溃报告</font><font style="vertical-align: inherit;">的“ </font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-APPINFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_26&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他诊断信息”</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分或设备的控制台中找到。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在运行时遇到意外情况，则Swift代码将以此异常类型终止，例如：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有nil值的非可选类型</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">强制类型转换失败</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_27&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以确定遇到意外情况的位置。</font><font style="vertical-align: inherit;">其他信息也可能已记录到设备的控制台。</font><font style="vertical-align: inherit;">您应该修改崩溃位置的代码以正常处理运行时故障。</font><font style="vertical-align: inherit;">例如，使用</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optional Binding</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是强制解包可选。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-ILLEGAL_INSTRUCTION__EXC_BAD_INSTRUCTION____SIGILL_" title="非法指令[EXC_BAD_INSTRUCTION // SIGILL]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非法指令[EXC_BAD_INSTRUCTION // SIGILL]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该进程试图执行非法或未定义的指令。</font><font style="vertical-align: inherit;">该进程可能试图通过配置错误的函数指针跳转到无效地址。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Intel处理器上，</font></font><code>ud2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作码会导致</font></font><code>EXC_BAD_INSTRUCTION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常，但通常用于捕获进程以进行调试。</font><font style="vertical-align: inherit;">如果在运行时遇到意外情况，则Intel处理器上的Swift代码将以此异常类型终止。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跟踪陷阱</font></font><!--/a--></span><font style="vertical-align: inherit;"></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-QUIT__SIGQUIT_" title="退出[SIGQUIT]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出[SIGQUIT]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该进程在另一个进程的请求下终止，并具有管理其生命周期的权限。</font></font><code>SIGQUIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并不意味着该过程崩溃，但它确实可能以可检测的方式行为不端。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在iOS上，如果加载时间过长，主机应用将退出键盘扩展。</font><font style="vertical-align: inherit;">崩溃报告中显示</font><font style="vertical-align: inherit;">的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_28&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不太可能</font><font style="vertical-align: inherit;">指向负责的代码。</font><font style="vertical-align: inherit;">最有可能的是，扩展的启动路径上的一些其他代码需要很长时间才能完成，但在时间限制之前完成，并且</font><font style="vertical-align: inherit;">当扩展退出时</font><font style="vertical-align: inherit;">执行移动到</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_29&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces中</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示的代码</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您应该</font><font style="vertical-align: inherit;">对扩展进行</font></font><span class="content_text"><a href="https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/MeasuringCPUUse.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/InstrumentsUs_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要分析</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以便更好地了解启动期间大多数工作的位置，并将该工作移至后台线程或将其推迟到以后（扩展加载后）。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-KILLED__SIGKILL_" title="被杀[SIGKILL]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被杀[SIGKILL]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程在系统请求时终止。</font><font style="vertical-align: inherit;">查看“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段以更好地了解</font><strong><font style="vertical-align: inherit;">终止原因</font></strong><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段将包含一个名称空间，然后一个代码。</font><font style="vertical-align: inherit;">以下代码特定于watchOS：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止代码</font></font><code>0xc51bad01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示监视应用程序已终止，因为它在执行后台任务时使用了太多CPU时间。</font><font style="vertical-align: inherit;">要解决此问题，请优化执行后台任务的代码以提高CPU效率，或减少应用程序在后台运行时执行的工作量。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止代码</font></font><code>0xc51bad02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示监视应用程序因未能在分配的时间内完成后台任务而终止。</font><font style="vertical-align: inherit;">要解决此问题，请减少应用在后台运行时执行的工作量。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止代码</font></font><code>0xc51bad03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示监视应用程序未能在分配的时间内完成后台任务，并且系统整体上非常繁忙，以至于应用程序可能没有多少CPU时间来执行后台任务。</font><font style="vertical-align: inherit;">虽然应用程序可以通过减少它在后台任务中执行的工作量来避免此问题，</font></font><code>0xc51bad03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但并不表示该应用程序执行了任何错误操作。</font><font style="vertical-align: inherit;">更有可能的是，由于整体系统负载，应用程序无法完成其工作。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-GUARDED_RESOURCE_VIOLATION__EXC_GUARD_" title="保护资源违规[EXC_GUARD]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保护资源违规[EXC_GUARD]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程违反了受保护的资源保护。</font><font style="vertical-align: inherit;">系统库可能会将某些文件描述符标记为</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保护</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，之后对这些描述符的正常操作将触发</font></font><code>EXC_GUARD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常（当它想要对这些文件描述符进行操作时，系统使用特殊的“保护”私有API）。</font><font style="vertical-align: inherit;">这有助于您快速跟踪问题，例如关闭系统库打开的文件描述符。</font><font style="vertical-align: inherit;">例如，如果某个应用程序关闭了用于访问支持Core Data存储的SQLite文件的文件描述符，那么Core Data将在以后神秘地崩溃。</font><font style="vertical-align: inherit;">保护异常会更快地发现这些问题，从而使它们更容易调试。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自较新版本的iOS的崩溃报告包括有关</font></font><code>EXC_GUARD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">中导致</font><font style="vertical-align: inherit;">异常</font><font style="vertical-align: inherit;">的操作的人类可读详细</font><strong><font style="vertical-align: inherit;">信息</font></strong><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在来自macOS或旧版iOS的崩溃报告中，此信息被编码为第一个</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码，</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为位域，按如下方式分解：</font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[63:61]  - 保护类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：保护资源的类型。</font><font style="vertical-align: inherit;">值为</font></font><code>0x2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示资源是文件描述符。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[60:32]  - 风味</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：触发​​违规的条件。</font></font></p><ul class="nested"><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code>(1 &lt;&lt; 0)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">了第一个</font><font style="vertical-align: inherit;">位，则进程尝试</font></font><code>close()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在受保护的文件描述符上</font><font style="vertical-align: inherit;">调用</font><font style="vertical-align: inherit;">。</font></font></p></li><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果第二</font></font><code>(1 &lt;&lt; 1)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位设置，过程试图调用</font></font><code>dup()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>dup2()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>fcntl()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用</font></font><code>F_DUPFD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>F_DUPFD_CLOEXEC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令在把守的文件描述符。</font></font></p></li><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code>(1 &lt;&lt; 2)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">了第三个</font><font style="vertical-align: inherit;">位，则进程尝试通过套接字发送受保护的文件描述符。</font></font></p></li><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code>(1 &lt;&lt; 4)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">了第五</font><font style="vertical-align: inherit;">位，则进程尝试写入受保护的文件描述符。</font></font></p></li></ul></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[31：0]  - 文件描述符</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：进程尝试修改的受保护文件描述符。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-RESOURCE_LIMIT__EXC_RESOURCE_" title="资源限制[EXC_RESOURCE]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源限制[EXC_RESOURCE]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程超出了资源消耗限制。</font><font style="vertical-align: inherit;">这是来自操作系统的通知，该进程使用了​​太多资源。</font><font style="vertical-align: inherit;">确切的资源列在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exception Subtype</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段中。</font><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">包含</font><font style="vertical-align: inherit;">“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常备注”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font></font><code>NON-FATAL CONDITION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则即使生成了崩溃报告，也不会终止该进程。</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font><code>MEMORY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示进程已超过系统强加的内存限制。</font><font style="vertical-align: inherit;">这可能是终止超额内存使用的先兆。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font><code>WAKEUPS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示进程中的线程每秒被唤醒太多次，这迫使CPU经常唤醒并消耗电池寿命。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常，这是由线程到线程的通信（通常使用</font></font><code>peformSelector:onThread:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font></font><code>dispatch_async</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">引起的，这种通信</font><font style="vertical-align: inherit;">在不知不觉中发生的频率远远超过它应该发生的频率。</font><font style="vertical-align: inherit;">因为触发此异常的通信类型经常发生，所以通常会有多个具有非常相似的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_30&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces的</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后台线程</font><font style="vertical-align: inherit;">- 指示通信的来源。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-OTHER_EXCEPTION_TYPES" title="其他异常类型"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他异常类型</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">某些崩溃报告可能包含未命名的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它将打印为十六进制值（例如00000020）。</font><font style="vertical-align: inherit;">如果您收到其中一个崩溃报告，请直接查看“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外代码”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段以获取更多信息。</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xbaaaaaad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示日志是整个系统的堆栈，而不是崩溃报告。</font><font style="vertical-align: inherit;">要拍摄叠印，请同时按侧面按钮和两个音量按钮。</font><font style="vertical-align: inherit;">这些日志通常是由用户意外创建的，并不表示错误。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xbad22222</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示iOS已终止VoIP应用程序，因为它过于频繁地恢复。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0x8badf00d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示iOS已终止应用程序，因为发生了监视程序超时。</font><font style="vertical-align: inherit;">应用程序启动，终止或响应系统事件花费的时间太长。</font><font style="vertical-align: inherit;">其中一个常见原因是</font></font><span class="content_text"><a href="http://developer.apple.com/library/ios/qa/qa1693/" class="browserLink" onclick="s_objectID=&quot;http://developer.apple.com/library/ios/qa/qa1693/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在主线程上</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行</font><span class="content_text"><a href="http://developer.apple.com/library/ios/qa/qa1693/" class="browserLink" onclick="s_objectID=&quot;http://developer.apple.com/library/ios/qa/qa1693/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">同步网络连接</font></a></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">无论什么操作都</font></font><code>Thread 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要移动到后台线程，或者以不同的方式处理，以便它不会阻塞主线程。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xc00010ff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示应用程序被操作系统杀死以响应热事件。</font><font style="vertical-align: inherit;">这可能是由于发生此崩溃的特定设备或其运行环境的问题。有关使您的应用程序更高效运行的提示，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2011/?id=312" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2011/?id=312_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iOS性能和使用Instruments</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WWDC会话进行</font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2011/?id=312" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2011/?id=312_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">功耗优化</font></a></span><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xdead10cc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示应用程序已被操作系统终止，因为它在挂起期间保留了文件锁或sqlite数据库锁。</font><font style="vertical-align: inherit;">如果您的应用程序</font><font style="vertical-align: inherit;">在挂起时</font><font style="vertical-align: inherit;">对</font></font><span class="content_text"><a href="x-man-page://fcntl" class="urlLink" rel="external" onclick="s_objectID=&quot;x-man-page://fcntl_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">锁定文件</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或sqlite数据库</font><font style="vertical-align: inherit;">执行操作</font><font style="vertical-align: inherit;">，则它必须</font></font><span class="content_text"><a href="https://developer.apple.com/reference/uikit/uiapplication/1623051-beginbackgroundtask" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/reference/uikit/uiapplication/1623051-beginbackgroundtask_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求额外的后台执行时间</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来完成这些操作并在挂起之前放弃锁定。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0x2bad45ec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示由于安全违规而导致应用程序被iOS终止。</font><font style="vertical-align: inherit;">终止描述“在安全模式下检测到进行不安全绘制的过程”表示应用程序试图在不允许的情况下绘制到屏幕，例如屏幕被锁定时。</font><font style="vertical-align: inherit;">用户可能不会注意到此终止，因为屏幕关闭或发生此终止时会显示锁定屏幕。</font></font></p></li></ul><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_10" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;使用应用切换器终止暂停的应用不会生成崩溃报告。</font><font style="vertical-align: inherit;">应用程序暂停后，它有资格随时被iOS终止，因此不会生成崩溃报告。</font></font></p><p></p></aside></div></section></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-APPINFO" title="其他诊断信息"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他诊断信息</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节包括特定于终止类型的其他诊断信息，其中可能包括： </font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于应用程序的信息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在进程终止之前捕获的框架错误消息</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内核消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：有关代码签名问题的详细信息</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dyld错误消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：动态链接器发出的错误消息</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从macOS Sierra，iOS 10，watchOS 3和tvOS 10开始，大部分此类信息现在</font><font style="vertical-align: inherit;">在“ </font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_31&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">例外信息”</font></a></span><font style="vertical-align: inherit;">下的</font><font style="vertical-align: inherit;">“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段中</font><font style="vertical-align: inherit;">报告</font><font style="vertical-align: inherit;">。</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_31&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"></font></a></span><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您应该阅读本节以更好地了解流程终止的情况。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE8" title="清单7当流程终止时生成的崩溃报告中的“应用程序特定信息”部分的摘要，因为找不到它所链接的框架。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单7</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;流程终止时生成的崩溃报告中的“应用程序特定信息”部分的摘录，因为找不到链接的框架。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dyld错误消息：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dyld消息：未加载库：@ rpath / MyCustomFramework.framework / MyCustomFramework</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  参考自：/private/var/containers/Bundle/Application/CD9DB546-A449-41A4-A08B-87E57EE11354/TheElements.app/TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  原因：找不到合适的图像。</font></font><span></span></pre></td></tr></tbody></table></div><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE9" title="清单8由于无法快速加载其初始视图控制器而终止进程时生成的崩溃报告中的“应用程序特定信息”部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单8</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;流程终止时生成的崩溃报告中的“特定于应用程序的信息”部分的摘录，因为它无法快速加载其初始视图控制器。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定应用信息：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.example.apple-samplecode.TheElements在19.81s之后无法进行场景创建（启动时间为0.19s，总时间限制为20.00s）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过的总CPU时间（秒）：7.690（用户7.690，系统0.000），19％CPU</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过的应用程序CPU时间（秒）：0.697,2％CPU</font></font><span></span></pre></td></tr></tbody></table></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" title="回溯"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告中最有趣的部分是它终止时每个进程线程的回溯。</font><font style="vertical-align: inherit;">这些跟踪中的每一条都与将进程与调试器暂停时看到的类似。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE10" title="清单9完全符号化崩溃报告中的Backtrace部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单9</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;完全符号化崩溃报告中的Backtrace部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程0名称：Dispatch queue：com.apple.main-thread</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程0崩溃：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 TheElements 0x000000010006bc20  -  [AtomicElementViewController myTransitionDidStop：finished：context：]（AtomicElementViewController.m：203）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 UIKit 0x0000000194cef0f0  -  [UIViewAnimationState sendDelegateAnimationDidStop：finished：] + 312</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 UIKit 0x0000000194ceef30  -  [UIViewAnimationState animationDidStop：finished：] + 160</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 QuartzCore 0x0000000192178404 CA :: Layer :: run_animation_callbacks（void *）+ 260</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 libdispatch.dylib 0x000000018dd6d1c0 _dispatch_client_callout + 16</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 libdispatch.dylib 0x000000018dd71d6c _dispatch_main_queue_callback_4CF + 1000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 CoreFoundation 0x000000018ee91f2c __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 12</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 CoreFoundation 0x000000018ee8fb18 __CFRunLoopRun + 1660</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 CoreFoundation 0x000000018edbe048 CFRunLoopRunSpecific + 444</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 GraphicsServices 0x000000019083f198 GSEventRunModal + 180</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 UIKit 0x0000000194d21bd0  -  [UIApplication _run] + 684</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 UIKit 0x0000000194d1c908 UIApplicationMain + 208</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 TheElements 0x00000001000653c0 main（main.m：55）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13 libdyld.dylib 0x000000018dda05b8 start + 4</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程1：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 libsystem_kernel.dylib 0x000000018deb2a88 __workq_kernreturn + 8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 libsystem_pthread.dylib 0x000000018df75188 _pthread_wqthread + 968</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 libsystem_pthread.dylib 0x000000018df74db4 start_wqthread + 4</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一行列出了线程号和当前正在执行的调度队列的标识符。</font><font style="vertical-align: inherit;">其余行列出了有关回溯中各个堆栈帧的详细信息。</font><font style="vertical-align: inherit;">从左到右：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堆栈帧号。</font><font style="vertical-align: inherit;">堆栈帧以调用顺序呈现，其中第0帧是在执行暂停时执行的函数。</font><font style="vertical-align: inherit;">第一帧是在第0帧调用函数的函数，依此类推。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堆栈帧的执行函数所在的二进制文件的名称。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于第0帧，执行停止时执行的机器指令的地址。</font><font style="vertical-align: inherit;">对于剩余的堆栈帧，当控制返回到堆栈帧时将下一次执行的机器指令的地址。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告中，堆栈框架中函数的方法名称。</font></font></p></li></ul><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE-EXCEPTIONS" title="例外"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objective-C中的异常用于指示在运行时检测到的编程错误，例如访问索引超出范围的数组，尝试改变不可变对象，不实现协议所需的方法，或发送消息接收器无法识别。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_11" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;对先前释放的对象进行消息传递可能会引发</font></font><code>NSInvalidArgumentException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存访问冲突</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">而不是使程序崩溃。</font><font style="vertical-align: inherit;">当在先前由解除分配的对象占用的存储器中分配新对象时，会发生这种情况。</font><font style="vertical-align: inherit;">如果您的应用程序由于未被捕获而崩溃</font></font><code>NSInvalidArgumentException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>-[NSObject(NSObject) doesNotRecognizeSelector:]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在异常回溯中</font><font style="vertical-align: inherit;">查找</font><font style="vertical-align: inherit;">），请考虑使用</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zombies工具</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析您的应用程序，</font><font style="vertical-align: inherit;">以消除不正确的内存管理是可能的原因。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果未捕获异常，则会被称为未捕获异常处理程序的函数拦截。</font><font style="vertical-align: inherit;">默认的未捕获异常处理程序将异常消息记录到设备的控制台，然后终止该进程。</font><font style="vertical-align: inherit;">在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Last Exception Backtrace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font><font style="vertical-align: inherit;">下，只将异常回溯写入生成的崩溃报告</font><font style="vertical-align: inherit;">，如</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单10</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所示</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">崩溃报告中省略了异常消息。</font><font style="vertical-align: inherit;">如果您收到带有</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Last Exception Backtrace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的崩溃报告，</font><font style="vertical-align: inherit;">您应该从原始设备获取控制台日志，以便更好地了解导致异常的条件。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE11" title="清单10来自非符号化崩溃报告的Last Exception Backtrace部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单10</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;来自非符号化崩溃报告的Last Exception Backtrace部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后的异常Backtrace：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（0x18eee41c0 0x18d91c55c 0x18eee3e88 0x18f8ea1a0 0x195013fe4 0x1951acf20 0x18ee03dc4 0x1951ab8f4 0x195458128 0x19545fa20 0x19545fc7c 0x19545ff70 0x194de4594 0x194e94e8c 0x194f47d8c 0x194f39b40 0x194ca92ac 0x18ee917dc 0x18ee8f40c 0x18ee8f89c 0x18edbe048 0x19083f198 0x194d21bd0 0x194d1c908 0x1000ad45c 0x18dda05b8）</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须对包含仅包含十六进制地址的Last Exception Backtrace的崩溃日志进行符号化，以生成可用的回溯，如</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单11</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所示</font><font style="vertical-align: inherit;">。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE12" title="清单11符号化崩溃报告中的Last Exception Backtrace部分的摘录。 在应用程序的故事板中加载场景时引发了此异常。 缺少用于连接到场景中元素的相应IBOutlet。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单11</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;符号化崩溃报告中的Last Exception Backtrace部分的摘录。</font><font style="vertical-align: inherit;">在应用程序的故事板中加载场景时引发了此异常。</font><font style="vertical-align: inherit;">缺少用于连接到场景中元素的相应IBOutlet。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后的异常Backtrace：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 CoreFoundation 0x18eee41c0 __exceptionPreprocess + 124</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 libobjc.A.dylib 0x18d91c55c objc_exception_throw + 56</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 CoreFoundation 0x18eee3e88  -  [NSException raise] + 12</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3基础0x18f8ea1a0  -  [NSObject（NSKeyValueCoding）setValue：forKey：] + 272</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 UIKit 0x195013fe4  -  [UIViewController setValue：forKey：] + 104</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 UIKit 0x1951acf20  -  [UIRuntimeOutletConnection connect] + 124</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 CoreFoundation 0x18ee03dc4  -  [NSArray makeObjectsPerformSelector：] + 232</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 UIKit 0x1951ab8f4  -  [UINib instantiateWithOwner：options：] + 1756</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 UIKit 0x195458128  -  [UIStoryboard instantiateViewControllerWithIdentifier：] + 196</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 UIKit 0x19545fa20  -  [UIStoryboardSegueTemplate instantiateOrFindDestinationViewControllerWithSender：] + 92</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 UIKit 0x19545fc7c  -  [UIStoryboardSegueTemplate _perform：] + 56</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 UIKit 0x19545ff70  -  [UIStoryboardSegueTemplate执行：] + 160</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 UIKit 0x194de4594  -  [UITableView _selectRowAtIndexPath：animated：scrollPosition：notifyDelegate：] + 1352</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13 UIKit 0x194e94e8c  -  [UITableView _userSelectRowAtPendingSelectionIndexPath：] + 268</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14 UIKit 0x194f47d8c _runAfterCACommitDeferredBlocks + 292</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 UIKit 0x194f39b40 _cleanUpAfterCAFlushAndRunDeferredBlocks + 560</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 UIKit 0x194ca92ac _afterCACommitHandler + 168</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17 CoreFoundation 0x18ee917dc __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 32</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 CoreFoundation 0x18ee8f40c __CFRunLoopDoObservers + 372</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19 CoreFoundation 0x18ee8f89c __CFRunLoopRun + 1024</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 CoreFoundation 0x18edbe048 CFRunLoopRunSpecific + 444</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21 GraphicsServices 0x19083f198 GSEventRunModal + 180</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22 UIKit 0x194d21bd0  -  [UIApplication _run] + 684</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23 UIKit 0x194d1c908 UIApplicationMain + 208</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24 TheElements 0x1000ad45c main（main.m：55）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25 libdyld.dylib 0x18dda05b8 start + 4</font></font><span></span></pre></td></tr></tbody></table></div><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_12" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;如果发现应用程序在异常处理域设置中引发的异常未被捕获，请确认</font><font style="vertical-align: inherit;">在构建应用程序或库时</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定该</font></font><code>-no_compact_unwind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64位iOS使用“零成本”异常实现。</font><font style="vertical-align: inherit;">在“零成本”系统中，每个函数都有附加数据，这些数据描述了如果在函数中抛出异常，如何展开堆栈。</font><font style="vertical-align: inherit;">如果在没有展开数据的堆栈帧中抛出异常，则异常处理无法继续，进程将停止。</font><font style="vertical-align: inherit;">堆栈上可能有一个异常处理程序，但如果没有一个框架的展开数据，那么就无法从抛出异常的堆栈框架到达那里。</font><font style="vertical-align: inherit;">指定该</font></font><code>-no_compact_unwind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志意味着您没有获得该代码的展开表，因此您不能在这些函数之间抛出异常。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，如果要在应用程序或库中包含纯C代码，则可能需要指定该</font></font><code>-funwind-tables</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志以包含该代码中所有函数的展开表。</font></font></p></section></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-THREAD_STATE" title="线程状态"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程状态</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节列出了崩溃线程的线程状态。</font><font style="vertical-align: inherit;">这是一个寄存器列表及其执行停止时的值。</font><font style="vertical-align: inherit;">在阅读崩溃报告时，无需了解线程状态，但您可以使用此信息更好地了解崩溃的情况。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE13" title="清单12来自ARM64设备的崩溃报告中的“线程状态”部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单12</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;来自ARM64设备的崩溃报告的“线程状态”部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程0与ARM线程状态（64位）崩溃：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    x0：0x0000000000000000 x1：0x000000019ff776c8 x2：0x0000000000000000 x3：0x000000019ff776c8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    x4：0x0000000000000000 x5：0x0000000000000001 x6：0x0000000000000000 x7：0x00000000000000d0</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    x8：0x0000000100023920 x9：0x0000000000000000 x10：0x000000019ff7dff0 x11：0x0000000c0000000f</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x12：0x000000013e63b4d0 x13：0x000001a19ff75009 x14：0x0000000000000000 x15：0x0000000000000000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x16：0x0000000187b3f1b9 x17：0x0000000181ed488c x18：0x0000000000000000 x19：0x000000013e544780</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x20：0x000000013fa49560 x21：0x0000000000000001 x22：0x000000013fc05f90 x23：0x000000010001e069</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x24：0x0000000000000000 x25：0x000000019ff776c8 x26：0xee009ec07c8c24c7 x27：0x0000000000000020</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x28：0x0000000000000000 fp：0x000000016fdf29e0 lr：0x0000000100017cf8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    sp：0x000000016fdf2980 pc：0x0000000100017d14 cpsr：0x60000000</font></font><span></span></pre></td></tr></tbody></table></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-BINARY_IMAGES" title="二进制图像"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节列出了终止时在进程中加载​​的二进制映像。 </font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE14" title="清单13崩溃报告的二进制映像部分中应用程序条目的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单13</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;崩溃报告的二进制映像部分中应用程序条目的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x100060000  -  0x100073fff TheElements arm64 &lt;2defdbea0c873a52afa458cf14cd169e&gt; /var/containers/Bundle/Application/888C1FA2-3666-4AE2-9E8E-62E2F787DEC1/TheElements.app/TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每行包括单个二进制图像的以下详细信息：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程中的二进制映像的地址空间。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件的二进制名称或包标识符（仅限macOS）。</font><font style="vertical-align: inherit;">在来自macOS的崩溃报告中，如果二进制文件是操作系统的一部分，则前缀为（+）。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅限macOS）二进制文件的短版本字符串和包版本，用短划线分隔。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅限iOS）二进制图像的体系结构。</font><font style="vertical-align: inherit;">二进制文件可能包含多个“切片”，每个“切片”支持一个体系结构。</font><font style="vertical-align: inherit;">这些切片中只有一个加载到过程中。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">唯一标识二进制映像的UUID。</font><font style="vertical-align: inherit;">此值随二进制的每个构建而变化，用于</font><font style="vertical-align: inherit;">在表示崩溃报告时</font><font style="vertical-align: inherit;">定位相应的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dSYM</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磁盘上二进制文件的路径。</font></font></p></li></ul></section><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_4&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-UNDERSTANDING_LOW_MEMORY_REPORTS" title="了解低内存报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解低内存报告</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当检测到低内存条件时，iOS中的虚拟内存系统依赖于应用程序的协作来释放内存。</font><font style="vertical-align: inherit;">低内存通知作为释放内存的请求发送到所有正在运行的应用程序和进程，希望减少使用的内存量。</font><font style="vertical-align: inherit;">如果内存压力仍然存在，系统可以终止后台进程以减轻内存压力。</font><font style="vertical-align: inherit;">如果可以释放足够的内存，您的应用程序将继续运行。</font><font style="vertical-align: inherit;">如果没有，您的应用程序将被iOS终止，因为没有足够的内存来满足应用程序的需求，并且将生成低内存报告并将其存储在设备上。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低内存报告的格式与其他崩溃报告的不同之处在于，应用程序线程没有回溯。</font><font style="vertical-align: inherit;">低内存报告以类似于</font><font style="vertical-align: inherit;">崩溃报告</font><font style="vertical-align: inherit;">的标头的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-CRASH_HEADER" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_32&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标头开头</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">标题后面是列出系统范围内存统计信息的字段集合。</font><font style="vertical-align: inherit;">记下“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面大小”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">的值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">低内存报告中每个进程的内存使用量按内存页数报告。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低内存报告中最重要的部分是进程表。</font><font style="vertical-align: inherit;">此表列出了生成低内存报告时所有正在运行的进程，包括系统守护程序。</font><font style="vertical-align: inherit;">如果一个过程被“抛弃”，原因将列在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[reason]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列下。</font><font style="vertical-align: inherit;">一个过程可能会被抛弃，原因如下：</font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[per-process-limit]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：该进程超过了系统强加的内存限制。</font><font style="vertical-align: inherit;">驻留内存的每进程限制由系统为所有应用程序建立。</font><font style="vertical-align: inherit;">越过此限制使该过程有资格终止。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_13" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;扩展的每进程内存限制要低得多。</font><font style="vertical-align: inherit;">某些技术（如地图视图和SpriteKit）的基准内存成本较高，可能不适合在扩展中使用。</font></font></p><p></p></aside></div></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[vm-pageshortage] / [vm-thrashing] / [vm]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：由于内存压力，该进程被</font><strong><font style="vertical-align: inherit;">终止</font></strong><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[vnode-limit]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：打开的文件太多。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_14" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;当vnode几乎耗尽时，系统可以避免杀死最前面的应用程序。</font><font style="vertical-align: inherit;">这意味着您的应用程序在后台可能会终止，即使它不是过多vnode使用的来源。</font></font></p><p></p></aside></div></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[highwater]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：系统守护进程越过其高水位标记以便使用内存。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[抛弃]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：由于其他原因，该过程被抛弃了。</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您没有看到应用/扩展程序旁边列出的原因，则崩溃的原因不是内存压力。</font><font style="vertical-align: inherit;">查找</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件（在上</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一节中</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font><font style="vertical-align: inherit;">）以获取更多信息。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您发现内存崩溃率较低时，您应该调查内存使用模式以及对低内存警告的响应，而不是担心代码的哪一部分在终止时执行。</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/MemoryManagementforYourApp/MemoryManagementforYourApp.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在应用程序</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/MemoryManagementforYourApp/MemoryManagementforYourApp.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">查找内存问题</font></a></span><font style="vertical-align: inherit;">列出了有关如何使用Leaks Instrument发现内存泄漏的详细步骤，以及如何使用Allocations Instrument的Mark Heap功能来避免丢弃内存。</font></font><span class="content_text"><a href="https://developer.apple.com/library/mac/#documentation/Performance/Conceptual/ManagingMemory/ManagingMemory.html#//apple_ref/doc/uid/10000160i" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/mac/#documentation/Performance/Conceptual/ManagingMemory/Mana_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存使用性能指南</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论了响应低内存通知的正确方法以及有效使用内存的许多技巧。</font><font style="vertical-align: inherit;">还建议您查看WWDC 2010会话，</font></font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2010/?id=311" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2010/?id=311_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用仪器进行高级内存分析</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_15" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;Leaks and Allocations工具不会跟踪所有内存使用情况。</font><font style="vertical-align: inherit;">您需要使用VM Tracker工具（包含在Instruments Allocations模板中）运行您的应用程序，以查看您的总内存使用情况。</font><font style="vertical-align: inherit;">默认情况下禁用VM Tracker。</font><font style="vertical-align: inherit;">要使用VM Tracker配置应用程序，请单击仪器，选中“自动快照”标志或手动按“立即快照”按钮。</font></font></p><p></p></aside></div><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_5&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-RELATED_DOCUMENTS" title="相关文件"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关文件</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关如何使用Instruments Zombies模板修复内存过度崩溃崩溃的信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_4&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Zombies跟踪模板消除僵尸</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关应用程序归档的更多信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introduction/Introduction.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introd_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App Distribution Guide</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关解释崩溃日志的更多信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2010/?id=317" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2010/?id=317_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解iPhone OS WWDC 2010会话上的崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_6&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><br><hr><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_1" title="文档修订历史"></a><a name="//apple_ref/doc/uid/DTS40008184-RevisionHistory-DontLinkElementID_1" title="文档修订历史"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档修订历史</font></font></h4><br><table class="graybox revision-history" border="0" cellspacing="0" cellpadding="5"><colgroup span="1"><col width="145"></colgroup><tbody><tr><th scope="col" align="left"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期</font></font></strong></th><th scope="col" align="left"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">笔记</font></font></strong></th></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2018年1月8日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关使用iTunes Connect网站下载的dSYM中的去混淆符号的信息。</font><font style="vertical-align: inherit;">还添加了异常代码0x2bad45ec的说明。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017年4月3日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">澄清了崩溃报告需要以.crash扩展名命名，以便使用Xcode进行符号化。</font><font style="vertical-align: inherit;">删除了对0xdeadfa11异常代码的讨论（强制退出应用程序不再生成崩溃报告）。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017年2月21日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关watchOS应用程序特定的某些终止代码的信息。</font><font style="vertical-align: inherit;">添加了有关键盘扩展可能接收SIGQUIT信号的原因的信息。  </font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017年1月3日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为0xdead10cc异常代码添加了其他详细信息和解决方案建议。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2016年9月2日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对iOS 10进行了更新。扩展了崩溃报告符号的讨论。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2015年7月21日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新了Xcode 6.扩展了崩溃报告的讨论。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二零一二年十二月一十三日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关更多例外代码的信息 </font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2012-03-28</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关低内存崩溃报告和更多异常代码的信息。</font><font style="vertical-align: inherit;">针对Xcode 4进行了更新。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2011-03-01</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已更新以反映iOS 4.0及更高版本的更改。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2010-07-06</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修正了文档中的错误。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2010-05-18</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已更新，以反映iPhone OS 3.2 SDK和Xcode 3.2.2的更改。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-06-01</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更强调不仅需要保存.dSYM文件，还需要保存应用程序二进制文件。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-04-30</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对iTunes Connect崩溃日志服务进行了更新。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-02-18</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已更新，其中包含防止应用程序代码被符号化的问题的变通方法。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-01-29</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新文档，为开发人员提供基本信息，说明如何对崩溃报告进行符号化，理解和解释。 </font></font></p></td></tr></tbody></table><br>
<div id="pageNavigationLinks_bottom" class="pageNavigationLinks">

</div><br>
<div class="copyright"><br><hr><div align="center"><p class="content_text" lang="en" dir="ltr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有©2018 Apple Inc.保留所有权利。  </font></font><a href="http://www.apple.com/legal/internet-services/terms/site.html" target="_blank" onclick="s_objectID=&quot;http://www.apple.com/legal/internet-services/terms/site.html_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用条款</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    |  </font></font><a href="http://www.apple.com/privacy/" target="_blank" onclick="s_objectID=&quot;http://www.apple.com/privacy/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隐私政策</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   | </font><font style="vertical-align: inherit;">更新：2018-01-08</font></font></p></div></div>

<!-- /CONTENTS -->
<div id="pediaWindow">
<div id="pediaHeader"></div>
<div id="pediaBody"></div>
</div>
</article>


<script charset="utf-8" src="../../Resources/1282/JavaScript/lib/prototype.js"></script>
<script src="../../Resources/1282/JavaScript/library.js"></script><div id="goog-gt-tt" class="skiptranslate" dir="ltr"><div style="padding: 8px;"><div><div class="logo"><img src="https://www.gstatic.com/images/branding/product/1x/translate_24dp.png" width="20" height="20" alt="Google 翻译"></div></div></div><div class="top" style="padding: 8px; float: left; width: 100%;"><h1 class="title gray">原文</h1></div><div class="middle" style="padding: 8px;"><div class="original-text"></div></div><div class="bottom" style="padding: 8px;"><div class="activity-links"><span class="activity-link">提供更好的翻译建议</span><span class="activity-link"></span></div><div class="started-activity-container"><hr style="color: #CCC; background-color: #CCC; height: 1px; border: none;"><div class="activity-root"></div></div></div><div class="status-message" style="display: none;"></div></div>


<div class="goog-te-spinner-pos"><div class="goog-te-spinner-animation"><svg xmlns="http://www.w3.org/2000/svg" class="goog-te-spinner" width="96px" height="96px" viewBox="0 0 66 66"><circle class="goog-te-spinner-path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle></svg></div></div><article id="contents" tabindex="0" role="main" class="dts_doc">
<!-- CONTENTS -->
<div id="pageNavigationLinks_top" class="pageNavigationLinks">

</div>
<a id="top" name="top"></a>
<a id="INDEX" href="index.html" style="display:none;" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/index.html_1&quot;;return this.s_oc?this.s_oc(e):true"></a>

<a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_2" title="技术说明TN2151"></a><div class="dtsDocNumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术说明TN2151</font></font></div><h1 id="pageTitle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解和分析应用程序崩溃报告</font></font></h1><div class="importantbox clear"><aside><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;此文档不再更新。</font><font style="vertical-align: inherit;">有关Apple SDK的最新信息，请访问</font></font><span class="content_text"><a href="https://developer.apple.com/documentation" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/documentation_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档网站</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当应用程序崩溃时，会创建一个崩溃报告，这对于了解导致崩溃的原因非常有用。</font><font style="vertical-align: inherit;">本文档包含有关如何表示，理解和解释崩溃报告的基本信息。</font></font></p>


<div class="outerMiniTOC">



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-INTRODUCTION" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ACQUIRING_CRASH_AND_LOW_MEMORY_REPORTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取崩溃和低内存报告</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">象征性的崩溃报告</font></font></a>



<div class="nestedMiniTOC">


<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-BITCODE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_4&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位码</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-_DETERMINING_WHETHER_A_CRASH_REPORT_IS_SYMBOLICATED" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_5&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定崩溃报告是否符号化</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATEWITHXCODE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_6&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用Xcode标记iOS崩溃报告</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATE_WITH_ATOS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_7&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用atos表示崩溃报告</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATIONTROUBLESHOOTING" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_8&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号故障排除</font></font></a>

</div>


</div>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_9&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析崩溃报告</font></font></a>



<div class="nestedMiniTOC">


<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-CRASH_HEADER" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_10&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_11&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外信息</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-APPINFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_12&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他诊断信息</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_13&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-THREAD_STATE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_14&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程状态</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-BINARY_IMAGES" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_15&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font></a>

</div>


</div>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-UNDERSTANDING_LOW_MEMORY_REPORTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_16&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解低内存报告</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-RELATED_DOCUMENTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_17&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关文件</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-RevisionHistory-DontLinkElementID_1" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_18&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档修订历史</font></font></a>



</div>


</div>

<section><a name="//apple_ref/doc/uid/DTS40008184-CH1-INTRODUCTION" title="介绍"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当应用程序崩溃时，</font><font style="vertical-align: inherit;">会创建</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将其存储在设备上。</font><font style="vertical-align: inherit;">崩溃报告描述了应用程序终止的条件，在大多数情况下包括每个执行线程的完整回溯，并且通常对于调试应用程序中的问题非常有用。</font><font style="vertical-align: inherit;">您应该查看这些崩溃报告，以了解您的应用程序崩溃了什么，然后尝试修复它们。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有回溯的崩溃报告需要</font><font style="vertical-align: inherit;">在进行分析之前</font><font style="vertical-align: inherit;">进行</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">符号化用人类可读的函数名称和行号替换内存地址。</font><font style="vertical-align: inherit;">如果您通过Xcode的设备窗口从设备上获取崩溃日志，那么几秒钟后它们将自动被符号化。</font><font style="vertical-align: inherit;">否则，您需要通过将</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件导入Xcode Devices窗口</font><font style="vertical-align: inherit;">来自行符号化</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_19&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低内存报告</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同之处在于有这类型的报告没有回溯其他的崩溃报告。</font><font style="vertical-align: inherit;">当发生低内存崩溃时，您必须调查内存使用模式以及对低内存警告的响应。</font><font style="vertical-align: inherit;">本文档向您指出了一些您可能会觉得有用的内存管理参考。</font></font></p><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ACQUIRING_CRASH_AND_LOW_MEMORY_REPORTS" title="获取崩溃和低内存报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取崩溃和低内存报告</font></font></h2><p><span class="content_text"><a href="https://developer.apple.com/library/ios/#qa/qa1747/_index.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/#qa/qa1747/_index.html_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试已部署的iOS应用程序</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论了如何直接从iOS设备检索崩溃和低内存报告。</font></font></p><p><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析“ </font></font></a></span><font style="vertical-align: inherit;"></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introduction/Introduction.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introd_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序分发指南</font></font></a></span><font style="vertical-align: inherit;"><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">”</font></a></span><font style="vertical-align: inherit;">中的</font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">崩溃报告</font></a></span><font style="vertical-align: inherit;">讨论了如何查看从TestFlight beta测试人员和从App Store下载应用程序的用户收集的聚合崩溃报告。</font></font></p><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION" title="象征性的崩溃报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">象征性的崩溃报告</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化是将</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址</font><font style="vertical-align: inherit;">解析</font><font style="vertical-align: inherit;">为源代码方法或函数名称（称为符号）的过程。</font><font style="vertical-align: inherit;">如果没有首先表示崩溃报告，则很难确定崩溃发生的位置。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_3" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;低内存报告不需要进行符号化。</font></font></p><p></p></aside></div><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_4" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;macOS的崩溃报告通常在生成时被符号化或部分符号化。</font><font style="vertical-align: inherit;">本节重点介绍iOS，watchOS和tvOS的崩溃报告，但整个过程与macOS类似。</font></font></p><p></p></aside></div><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE1" title="图1崩溃报告和符号化过程概述"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图1</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;崩溃报告和符号化过程概述。</font></font></figcaption><img src="Art/tn2151_crash_flow.png" class="wide-image" alt="" width="1024" height="1600"><img src="Art/tn2151_crash_flow.png" class="ipad-scaled-image" alt="" width="670" height="1046"></figure><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当编译器将源代码转换为机器代码时，它还会生成调试符号，这些符号将编译后的二进制文件中的每个机器指令映射回源自它的源代码行。</font><font style="vertical-align: inherit;">根据</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debug Information Format</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>DEBUG_INFORMATION_FORMAT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）构建设置，这些调试符号存储在二进制文件或伴随的Debug Symbol（</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）文件中。</font><font style="vertical-align: inherit;">默认情况下，应用程序的调试版本将调试符号存储在已编译的二进制文件中，而应用程序的发布版本将调试符号存储在配套</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中以减小二进制文件大小。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试符号文件和应用程序二进制文件通过构建UUID在每个构建的基础上绑定在一起。</font><font style="vertical-align: inherit;">为应用程序的每个构建生成一个新的UUID，并唯一标识该构建。</font><font style="vertical-align: inherit;">即使从相同的源代码重建功能相同的可执行文件，使用相同的编译器设置，它也将具有不同的构建UUID。</font><font style="vertical-align: inherit;">调试来自后续版本的符号文件，即使是来自相同的源文件，也不会与来自其他版本的二进制文件互操作。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归档应用程序以进行分发时，Xcode将收集应用程序二进制文件以及。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将文件存储并保存在主文件夹内的某个位置。</font><font style="vertical-align: inherit;">您可以在“已存档”部分的Xcode管理器中找到所有已存档的应用程序。</font><font style="vertical-align: inherit;">有关创建存档的更多信息，请参阅“ </font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introduction/Introduction.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introd_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序分发指南”</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_5" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要点：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;要表示来自测试人员，应用程序审阅和客户的崩溃报告，您必须保留所分发的应用程序的每个版本的存档。</font></font></p><p></p></aside></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您通过App Store分发应用程序，或使用Test Flight进行beta测试，您可以选择</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在将存档上传到iTunes Connect时</font><font style="vertical-align: inherit;">包含该</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">在提交对话框中，选中“为您的应用程序包含应用程序符号...”。</font><font style="vertical-align: inherit;">上传</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件对于接收从TestFlight用户和选择共享诊断数据的客户收集的崩溃报告是必要的。</font><font style="vertical-align: inherit;">有关崩溃报告服务的更多信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App Distribution Guide</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_6" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使您</font><font style="vertical-align: inherit;">在将存档上传到iTunes Connect时</font><font style="vertical-align: inherit;">包含该</font><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">&nbsp;从App Review收到的崩溃报告也将是非</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化的</font></font><!--/a--></span><font style="vertical-align: inherit;"></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您需要使用Xcode对从App Review收到的任何崩溃报告进行符号化。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATEWITHXCODE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_20&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Xcode标记iOS崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p></p></aside></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您的应用程序崩溃时，</font><font style="vertical-align: inherit;">会创建</font><font style="vertical-align: inherit;">一个非</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化的</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告并将其存储在设备上。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户可以按照</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/#qa/qa1747/_index.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/#qa/qa1747/_index.html_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试已部署的iOS应用程序中</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的步骤直接从其设备检索崩溃报告</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您通过AdHoc或Enterprise分发分发了应用程序，则这是从用户获取崩溃报告的唯一方法。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从设备检索到的崩溃报告</font><font style="vertical-align: inherit;">是非</font><span class="content_text"><font style="vertical-align: inherit;">符号</font></span></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">化的</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，需要</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Xcode</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行</font><span class="content_text"><font style="vertical-align: inherit;">符号化</font></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Xcode使用</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与应用程序二进制文件关联</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件将</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯中的</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个地址替换为</font><font style="vertical-align: inherit;">源代码中的原始位置。</font><font style="vertical-align: inherit;">结果是一个符号化的崩溃报告。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果用户选择与Apple共享诊断数据，或者用户已通过TestFlight安装了应用程序的测试版，则崩溃报告将上载到App Store。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App Store表示崩溃报告，并将其与类似的崩溃报告分组。</font><font style="vertical-align: inherit;">这种类似崩溃报告的汇总称为崩溃点。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode的Crashes组织者可以使用符号化的崩溃报告。</font></font></p></li></ol><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-BITCODE" title="位码"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位码</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bitcode是编译程序的中间表示。</font><font style="vertical-align: inherit;">当您使用bitcode存档应用程序时，编译器会生成包含bitcode而不是机器代码的二进制文件。</font><font style="vertical-align: inherit;">将二进制文件上传到App Store后，bitcode将编译为机器代码。</font><font style="vertical-align: inherit;">App Store可能会在将来再次编译bitcode，以利用未来的编译器改进，而无需您采取任何操作。</font></font></p><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE2" title="图2 Bitcode编译过程概述"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;Bitcode编译过程概述。</font></font></figcaption><img src="Art/tn2151_bitcode_overview.png" class="wide-image" alt="" width="1023" height="207"><img src="Art/tn2151_bitcode_overview.png" class="ipad-scaled-image" alt="" width="670" height="135"></figure><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于二进制文件的最终编译发生在App Store上，因此Mac不会包含用于表示</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从App Review收到的崩溃报告或从其设备向您发送崩溃报告的用户所需</font><font style="vertical-align: inherit;">的调试符号（</font><font style="vertical-align: inherit;">）文件。</font><font style="vertical-align: inherit;">虽然</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归档应用程序时会生成</font><font style="vertical-align: inherit;">一个</font><font style="vertical-align: inherit;">文件，但它是用于bitcode二进制文件，不能用于表示崩溃报告。</font><font style="vertical-align: inherit;">App Store使</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以从Xcode或iTunes Connect网站下载bitcode编译期间生成</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">您必须下载这些</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，以便表示从App Review或从其设备向您发送崩溃报告的用户收到的崩溃报告。</font><font style="vertical-align: inherit;">通过崩溃报告服务收到的崩溃报告将自动进行符号化。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_7" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;App Store编译的二进制文件将具有与最初提交的二进制文件不同的UUID。</font></font></p><p></p></aside></div><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-DOWNLOAD_DSYM" title="从Xcode下载dSYM文件"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从Xcode下载dSYM文件</font></font></h4><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Archives管理器中，选择最初提交到App Store的存档。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击“下载dSYMs”按钮。</font></font></p></li></ol><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode下载</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件并将其插入选定的存档。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION_BITCODE-DOWNLOADING_THE_DSYM_FILES_FROM_THE_ITUNES_CONNECT_WEBSITE" title="从iTunes Connect网站下载dSYM文件"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从iTunes Connect网站下载dSYM文件</font></font></h4><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开“应用详情”页面。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击活动。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从“所有构建”列表中，选择一个版本。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载dSYM”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接。</font></font></p></li></ol></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION_BITCODE-TRANSLATING__HIDDEN__SYMBOL_NAMES_BACK_TO_THEIR_ORIGINAL_NAMES" title="将“隐藏”符号名称翻译回原始名称"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将“隐藏”符号名称翻译回原始名称</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您将带有bitcode的应用程序上传到App Store时，您可以选择不通过取消选中“上传您的应用程序的符号以从Apple接收符号化报告”框来发送应用程序的符号。</font><font style="vertical-align: inherit;">如果您选择不将应用程序的符号信息发送给Apple，Xcode将替换您应用程序中的符号。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在将应用程序发送到iTunes Connect之前，带有模糊符号的文件，例如“__hidden＃109_”。</font><font style="vertical-align: inherit;">Xcode在原始符号和“隐藏”符号之间创建映射，并将此映射存储</font></font><code>.bcsymbolmap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在应用程序归档内的文件中。</font><font style="vertical-align: inherit;">每个。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件将有一个相应的</font></font><code>.bcsymbolmap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在对崩溃报告进行符号化之前，您需要对符号中的符号进行去混淆。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从iTunes Connect下载的文件。</font><font style="vertical-align: inherit;">如果您使用Xcode中的下载dSYMs按钮，将自动执行此去混淆。</font><font style="vertical-align: inherit;">但是，如果您使用iTunes Connect网站下载。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，打开终端并使用以下命令对符号进行反模糊处理（用您自己的存档替换示例路径和从iTunes Connect下载的dSYMs文件夹）：</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE1"></a><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xcrun dsymutil -symbol-map~ / Library / Developer / Xcode / Archives / 2017-11-23 / MyGreatApp \ 11-23-17 \，\ 12.00 \ PM.xcarchive / BCSymbolMaps~ / Downloads / dSYMs / 3B15C133-88AA-35B0 -B8BA-84AF76826CE0.dSYM</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为每个运行此命令。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您下载的dSYMs文件夹中的文件。</font></font></p></section></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-_DETERMINING_WHETHER_A_CRASH_REPORT_IS_SYMBOLICATED" title=" 确定崩溃报告是否符号化"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 确定崩溃报告是否符号化</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告可以是非符号化的，完全符号化的或部分符号化的。</font><font style="vertical-align: inherit;">非符号化的崩溃报告将不包含</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯中</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的方法或函数名称</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">相反，您在加载的二进制图像中具有可执行代码的十六进制地址。</font><font style="vertical-align: inherit;">在完全符号化的崩溃报告中，</font><font style="vertical-align: inherit;">回溯的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每一</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行中的</font><font style="vertical-align: inherit;">十六进制地址</font><font style="vertical-align: inherit;">将替换为相应的符号。</font><font style="vertical-align: inherit;">在部分符号化的崩溃报告中，只有回溯中的某些地址已替换为其相应的符号。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显然，您应该尝试完全符合您收到的任何崩溃报告，因为它将提供有关崩溃的最深入见解。</font><font style="vertical-align: inherit;">部分符号化的崩溃报告可能包含足够的信息来了解崩溃，具体取决于崩溃的类型以及成功符号化的回溯的哪些部分。</font><font style="vertical-align: inherit;">非符号化的崩溃报告很少有用。</font></font></p><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE3" title="图3在各种符号级别上的相同回溯。"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图3</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;各种符号级别的相同回溯。</font></font></figcaption><img src="Art/tn2151_symbolication_levels.png" class="wide-image" alt="" width="920" height="693"><img src="Art/tn2151_symbolication_levels.png" class="ipad-scaled-image" alt="" width="670" height="504"></figure></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATEWITHXCODE" title="用Xcode标记iOS崩溃报告"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用Xcode标记iOS崩溃报告</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode将自动尝试表示它遇到的所有崩溃报告。</font><font style="vertical-align: inherit;">您需要为符号化做的只是将崩溃报告添加到Xcode Organizer。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_8" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;Xcode不接受没有</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名的</font><font style="vertical-align: inherit;">崩溃报告</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您收到没有扩展程序或扩展程序的崩溃报告，请</font><font style="vertical-align: inherit;">在执行下面列出的步骤之前</font></font><code>.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其重命名为</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展程序。</font></font></p><p></p></aside></div><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将iOS设备连接到Mac</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从“窗口”菜单中选择“设备”</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在左列的“设备”部分下，选择一个设备</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击右侧面板“设备信息”部分下的“查看设备日志”按钮</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将崩溃报告拖到所显示面板的左列</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode将自动表示崩溃报告并显示结果</font></font></p></li></ol><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了表示崩溃报告，Xcode需要能够找到以下内容：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃的应用程序的二进制</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">文件。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序链接的所有自定义框架</font><font style="vertical-align: inherit;">的二进制文件和</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">对于使用应用程序从源构建的框架，它们的</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件将与应用程序的</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">一起复制到存档中</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于由第三方构建的框架，您需要向作者询问该</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃时该应用程序运行的操作系统的符号。</font><font style="vertical-align: inherit;">这些符号包含特定操作系统版本（例如iOS 9.3.3）中包含的框架的调试信息。</font><font style="vertical-align: inherit;">OS符号是特定于体系结构的 - 用于64位设备的iOS版本不包含armv7符号。</font><font style="vertical-align: inherit;">Xcode将自动从连接到Mac的每个设备复制OS符号。</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果缺少任何这些，Xcode可能无法表示崩溃报告，或者可能只是</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分地</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示崩溃报告。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATE_WITH_ATOS" title="用atos表示崩溃报告"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用atos表示崩溃报告</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该 </font></font><span class="content_text"><a href="x-man-page://atos" class="urlLink" rel="external" onclick="s_objectID=&quot;x-man-page://atos_1&quot;;return this.s_oc?this.s_oc(e):true"><codevoice><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATOS</font></font></codevoice></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令将数字地址转换为其符号等效项。</font><font style="vertical-align: inherit;">如果有完整的调试符号信息，则输出</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将包括文件名和源行号信息。</font><font style="vertical-align: inherit;">该</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令可用于在非符号化或部分符号化的崩溃报告的回溯中表示各个地址。</font><font style="vertical-align: inherit;">使用</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下命令</font><font style="vertical-align: inherit;">表示崩溃报告的一部分</font><font style="vertical-align: inherit;">：</font></font></p><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯中</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到</font><font style="vertical-align: inherit;">要符号化的行。</font><font style="vertical-align: inherit;">请注意第二列中二进制图像的名称，以及第三列中的地址。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在崩溃报告底部的</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表中查找具有该名称的</font><span class="content_text"><font style="vertical-align: inherit;">二进制图像</font></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请注意二进制映像的体系结构和加载地址。</font></font></p></li></ol><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE4" title="图4使用atos所需的崩溃报告中的信息。"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图4</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;需要使用的崩溃报告中的信息</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></figcaption><img src="Art/tn2151_atos_info.png" class="wide-image" alt="" width="828" height="238"><img src="Art/tn2151_atos_info.png" class="ipad-scaled-image" alt="" width="670" height="192"></figure><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件。</font><font style="vertical-align: inherit;">您可以使用Spotlight查找</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制映像的UUID </font><font style="vertical-align: inherit;">的匹配</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATIONTROUBLESHOOTING" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_21&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化故障排除</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件是捆绑包，其中包含一个文件，其中包含编译器在构建时生成的DWARF调试信息。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在调用时</font><font style="vertical-align: inherit;">，您必须提供此文件的路径，而不是</font><font style="vertical-align: inherit;">包</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用上述信息，您可以使用该</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">在回溯中对地址进行符号化</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以指定多个要符号化的地址，用空格分隔。</font></font></p><p><code>atos -arch &lt;Binary Architecture&gt; -o &lt;Path to dSYM file&gt;/Contents/Resources/DWARF/&lt;binary image name&gt; -l &lt;load address&gt; &lt;address to symbolicate&gt;</code></p></li></ol><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE2" title="清单1遵循上述步骤的atos命令的示例用法以及结果输出。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单1</font></font></strong><font style="vertical-align: inherit;"></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遵循上述步骤</font><font style="vertical-align: inherit;">&nbsp;&nbsp;的</font><font style="vertical-align: inherit;">命令的</font><font style="vertical-align: inherit;">示例用法</font><font style="vertical-align: inherit;">以及结果输出。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ atos -arch arm64 -o TheElements.app.dSYM / Contents / Resources / DWARF / TheElements -l 0x1000e4000 0x00000001000effdc</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-  [AtomicElementViewController myTransitionDidStop：finished：context：]</font></font><span></span></pre></td></tr></tbody></table></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATIONTROUBLESHOOTING" title="符号故障排除"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号故障排除</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Xcode未能完全符合崩溃报告，可能是因为您的Mac缺少</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序二进制</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的文件，应用程序链接的一个或多个框架的文件，或者应用程序运行的OS的设备符号它坠毁了。</font><font style="vertical-align: inherit;">以下步骤显示如何使用Spotlight确定</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Mac上是否存在表示二进制图像中的回溯地址所需</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font></font></p><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE5" title="图5为二进制映像定位UUID。"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图5</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;找到二进制映像的UUID。</font></font></figcaption><img src="Art/tn2151_find_uuid.png" class="wide-image" alt="" width="828" height="347"><img src="Art/tn2151_find_uuid.png" class="ipad-scaled-image" alt="" width="670" height="280"></figure><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中找到Xcode无法符号化的行。</font><font style="vertical-align: inherit;">请注意第二列中二进制图像的名称。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在崩溃报告底部的</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表中查找具有该名称的</font><span class="content_text"><font style="vertical-align: inherit;">二进制图像</font></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此列表包含崩溃时加载到进程中的每个二进制映像的UUID。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE3" title="清单2您可以使用grep命令行工具快速查找二进制图像列表中的条目。"></a><br><br><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;您可以使用</font></font><code>grep</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行工具快速查找二进制映像列表中的条目。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ grep --after-context = 1000“二进制图像：”&lt;崩溃报告的路径&gt; | </font><font style="vertical-align: inherit;">grep &lt;二进制名称&gt;</font></font><span></span></pre></td></tr></tbody></table></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将二进制映像的UUID转换为以8-4-4-4-12（</font></font><code>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">为一组分隔的32个字符串</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请注意，所有字母</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是大写的。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行工具使用查询</font><font style="vertical-align: inherit;">搜索UUID </font></font><code>"com_apple_xcode_dsym_uuids == &lt;UUID&gt;"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（包括引号）。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE4" title="清单3使用mdfind命令行工具搜索具有给定UUID的dSYM文件。"></a><br><br><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单3</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;使用</font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行工具搜索</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有给定UUID的文件。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ mdfind“com_apple_xcode_dsym_uuids == &lt;UUID&gt;”</font></font><span></span></pre></td></tr></tbody></table></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Spotlight找到</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UUID </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件，</font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将打印该</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">的路径，</font><font style="vertical-align: inherit;">并可能</font><font style="vertical-align: inherit;">打印</font><font style="vertical-align: inherit;">其包含的存档。</font><font style="vertical-align: inherit;">如果</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找不到UUID </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件，   </font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将退出而不打印任何内容。</font></font></p></li></ol><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Spotlight找到了</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件，但Xcode无法对该二进制映像中的地址进行符号化，那么您应该提交一个错误。</font><font style="vertical-align: inherit;">将崩溃报告和相关</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">附加</font><font style="vertical-align: inherit;">到错误报告中。</font><font style="vertical-align: inherit;">作为解决方法，您可以使用手动对地址进行符号化</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATE_WITH_ATOS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_22&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用atos标记崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Spotlight没有找到</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制映像，请确认您仍然拥有崩溃的应用程序版本的Xcode存档，并且此存档位于Spotlight可以找到它的位置（主目录中的任何位置都应该这样做）。</font><font style="vertical-align: inherit;">如果您的应用程序是在启用bitcode的情况下构建的，请确保</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已从App Store </font><font style="vertical-align: inherit;">下载</font><font style="vertical-align: inherit;">了最终编译</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-DOWNLOAD_DSYM" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_23&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从Xcode下载dSYM文件</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您认为</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制映像</font><font style="vertical-align: inherit;">具有正确性</font><font style="vertical-align: inherit;">，则可以使用该</font></font><code>dwarfdump</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令打印匹配的UUID。</font><font style="vertical-align: inherit;">您还可以使用该</font></font><code>dwarfdump</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令打印二进制文件的UUID。</font></font></p><p><code>xcrun dwarfdump --uuid &lt;Path to dSYM file&gt;</code></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_9" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;您必须拥有最初提交到App Store的存档，以查找崩溃的应用程序版本。</font><font style="vertical-align: inherit;">的</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件和应用程序二进制每个累积的基础上具体绑在一起。</font><font style="vertical-align: inherit;">即使从相同的源和构建配置创建新存档，也不会生成</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可与崩溃构建互操作</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您不再拥有此存档，则应提交保留存档的应用程序的新版本。</font><font style="vertical-align: inherit;">然后，您将能够为此新版本标记崩溃报告。</font></font></p></section><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS" title="分析崩溃报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析崩溃报告</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节讨论标准崩溃报告中的每个部分。</font></font></p><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-CRASH_HEADER" title="头"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个崩溃报告都以标题开头。 </font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE5" title="清单4崩溃报告中标题的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单4</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;崩溃报告中标题的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事件标识符：B6FD1E8E-B39F-430B-ADDE-FC3A45ED368C</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CrashReporter密钥：f04e68ec62d3c66057628c9ba9839e30d55937dc</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">硬件型号：iPad6,8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程：TheElements [303]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路径：/private/var/containers/Bundle/Application/888C1FA2-3666-4AE2-9E8E-62E2F787DEC1/TheElements.app/TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标识符：com.example.apple-samplecode.TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本：1.12</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码类型：ARM-64（Native）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作用：前景</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">父流程：launchd [1]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">联盟：com.example.apple-samplecode.Thelements [402]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期/时间：2016-08-22 10：43：07.5806 -0700</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布时间：2016-08-22 10：43：01.0293 -0700</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统版本：iPhone OS 10.0（14A5345a）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告版本：104</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大多数领域都是不言自明的，但有一些值得特别注意：</font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事件标识符</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：报告的唯一标识符。</font><font style="vertical-align: inherit;">两个报告永远不会共享相同的事件标识符。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CrashReporter密钥</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：匿名的每设备标识符。</font><font style="vertical-align: inherit;">来自同一设备的两个报告将包含相同的值。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beta标识符</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃应用程序的设备和供应商组合的唯一标识符。</font><font style="vertical-align: inherit;">来自同一供应商和同一设备的两个应用程序报告将包含相同的值。</font><font style="vertical-align: inherit;">此字段仅存在于为通过TestFlight分发的应用程序生成的崩溃报告中，并替换CrashReporter Key字段。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃</font><strong><font style="vertical-align: inherit;">进程</font></strong><font style="vertical-align: inherit;">的可执行文件名称。</font><font style="vertical-align: inherit;">这与</font></font><code>CFBundleExecutable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序的信息属性列表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">键值</font><font style="vertical-align: inherit;">匹配</font><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃的进程版本。</font><font style="vertical-align: inherit;">该字段的值是崩溃的应用程序</font></font><code>CFBundleVersion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">的串联</font></font><code>CFBundleVersionString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃的进程的目标体系结构。</font><font style="vertical-align: inherit;">这将是一</font></font><code>ARM-64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>ARM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>x86-64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或</font></font><code>x86</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">角色</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><span class="content_text"><a href="http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h" class="urlLink" rel="external" onclick="s_objectID=&quot;http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止时</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配给进程</font><font style="vertical-align: inherit;">的</font><span class="content_text"><a href="http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h" class="urlLink" rel="external" onclick="s_objectID=&quot;http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">task_role</font></a></span><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统版本</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：发生崩溃的操作系统版本，包括内部版本号。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" title="例外信息"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外信息</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不要与Objective-C / C ++异常混淆（尽管其中一个可能是崩溃的原因），本节列出Mach </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和相关字段，它们提供有关崩溃性质的信息。</font><font style="vertical-align: inherit;">并非每个崩溃报告中都会出现所有字段。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE6" title="清单5由于未捕获的Objective-C异常导致进程终止时生成的崩溃报告中的Exception Codes部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单5</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;由于未捕获的Objective-C异常导致进程终止时生成的崩溃报告中的Exception Codes部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外类型：EXC_CRASH（SIGABRT）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外代码：0x0000000000000000,0x0000000000000000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外注意：EXC_CORPSE_NOTIFY</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由线程触发：0</font></font><span></span></pre></td></tr></tbody></table></div><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE7" title="清单6当进程因为取消引用NULL指针而终止时生成的崩溃报告中的Exception Codes部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单6</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;当进程因为取消引用NULL指针而终止时生成的崩溃报告中的Exception Codes部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外类型：EXC_BAD_ACCESS（SIGSEGV）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型：KERN_INVALID_ADDRESS位于0x0000000000000000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止信号：分段故障：11</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因：命名空间SIGNAL，代码0xb</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止进程：exc处理程序[0]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由线程触发：0</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面介绍可能出现在本节中的字段的说明。 </font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：有关异常的处理器特定信息，编码为一个或多个64位十六进制数。</font><font style="vertical-align: inherit;">通常，此字段将不存在，因为Crash Reporter会解析异常代码以将其作为人类可读的描述呈现在其他字段中。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：异常代码的人类可读名称。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从异常代码中提取的其他人类可读信息。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常注意</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：非特定于一种异常类型的附加信息。</font><font style="vertical-align: inherit;">如果该字段包含，</font></font><code>SIMULATED (this is NOT a crash)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么进程没有崩溃，但是在系统请求时被杀死，通常是看门狗。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：终止进程时指定的退出原因信息。</font><font style="vertical-align: inherit;">进程内部和外部的关键系统组件将在遇到致命错误时终止进程（例如，错误的代码签名，缺少的依赖库，或在没有适当权利的情况下访问隐私敏感信息）。</font><font style="vertical-align: inherit;">macOS Sierra，iOS 10，watchOS 3和tvOS 10采用了新的基础设施来记录这些错误，这些操作系统生成的崩溃报告列出了终止原因字段中的错误消息。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由线程触发</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：发生异常的线程。</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下部分介绍了一些最常见的异常类型：</font></font></p><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-BAD_MEMORY_ACCESS__EXC_BAD_ACCESS____SIGSEGV____SIGBUS_" title="内存访问不良[EXC_BAD_ACCESS // SIGSEGV // SIGBUS]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存访问不良[EXC_BAD_ACCESS // SIGSEGV // SIGBUS]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该进程尝试访问无效内存，或者尝试以内存保护级别不允许的方式访问内存（例如，写入只读内存）。</font><font style="vertical-align: inherit;">该</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外子类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段包含一个</font></font><code>kern_return_t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述错误，并且被错误地访问的存储器的地址。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是调试错误内存访问崩溃的一些提示：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">崩溃线程</font><font style="vertical-align: inherit;">的</font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_24&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">Backtraces</font></a></span><font style="vertical-align: inherit;">顶部</font></font><code>objc_msgSend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>objc_release</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附近</font><font style="vertical-align: inherit;">，则该进程可能已尝试向已释放的对象发送消息。</font><font style="vertical-align: inherit;">您应该使用</font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">Zombies工具</font></a></span><font style="vertical-align: inherit;">对</font><font style="vertical-align: inherit;">应用程序进行概要分析，</font><font style="vertical-align: inherit;">以便更好地了解此崩溃的情况。</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_24&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"></font></a></span><font style="vertical-align: inherit;"></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"></font></a></span><font style="vertical-align: inherit;"></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">在崩溃线程</font></font><code>gpus_ReturnNotPermittedKillClient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_25&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顶部附近</font><font style="vertical-align: inherit;">，则该进程被终止，因为它在后台尝试使用OpenGL ES或Metal进行渲染。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/qa/qa1766/_index.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/qa/qa1766/_index.html_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QA1766：如何在移动到后台时修复OpenGL ES应用程序崩溃</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用</font></font><span class="content_text"><a href="https://developer.apple.com/videos/play/wwdc2015/413/" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/play/wwdc2015/413/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Address Sanitizer</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行您的应用程序</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">地址清理程序在已编译的代码中添加了有关内存访问的附加检测。</font><font style="vertical-align: inherit;">当您的应用程序运行时，如果以可能导致崩溃的方式访问内存，Xcode将提醒您。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-ABNORMAL_EXIT__EXC_CRASH____SIGABRT_" title="异常退出[EXC_CRASH // SIGABRT]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常退出[EXC_CRASH // SIGABRT]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程异常退出。</font><font style="vertical-align: inherit;">使用此异常类型导致崩溃的最常见原因是未被​​捕获的Objective-C / C ++ </font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和调用</font></font><code>abort()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果App Extensions花费太多时间进行初始化（看门狗终止），它将以此异常类型终止。</font><font style="vertical-align: inherit;">如果由于启动时挂起而导致扩展名被</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则生成的崩溃报告</font><font style="vertical-align: inherit;">的</font><strong><font style="vertical-align: inherit;">异常子类型</font></strong><font style="vertical-align: inherit;">将是</font></font><code>LAUNCH_HANG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于扩展没有</font></font><code>main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数，因此初始化所花费的时间都发生在</font></font><code>+load</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展和依赖库中的</font><font style="vertical-align: inherit;">静态构造函数和</font><font style="vertical-align: inherit;">方法中。</font><font style="vertical-align: inherit;">你应该尽可能多地推迟这项工作。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-TRACE_TRAP__EXC_BREAKPOINT____SIGTRAP_" title="跟踪陷阱[EXC_BREAKPOINT // SIGTRAP]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跟踪陷阱[EXC_BREAKPOINT // SIGTRAP]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常退出</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类似</font><font style="vertical-align: inherit;">，此异常旨在为附加的调试器提供在其执行的特定点中断进程的机会。</font><font style="vertical-align: inherit;">您可以使用该</font></font><code>__builtin_trap()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font><font style="vertical-align: inherit;">从您自己的代码中触发此异常</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果未附加调试器，则终止该过程并生成崩溃报告。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较低级别的库（例如libdispatch）会在遇到致命错误时捕获进程。</font><font style="vertical-align: inherit;">有关错误的其他信息可以</font><font style="vertical-align: inherit;">在崩溃报告</font><font style="vertical-align: inherit;">的“ </font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-APPINFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_26&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他诊断信息”</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分或设备的控制台中找到。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在运行时遇到意外情况，则Swift代码将以此异常类型终止，例如：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有nil值的非可选类型</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">强制类型转换失败</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_27&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以确定遇到意外情况的位置。</font><font style="vertical-align: inherit;">其他信息也可能已记录到设备的控制台。</font><font style="vertical-align: inherit;">您应该修改崩溃位置的代码以正常处理运行时故障。</font><font style="vertical-align: inherit;">例如，使用</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optional Binding</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是强制解包可选。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-ILLEGAL_INSTRUCTION__EXC_BAD_INSTRUCTION____SIGILL_" title="非法指令[EXC_BAD_INSTRUCTION // SIGILL]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非法指令[EXC_BAD_INSTRUCTION // SIGILL]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该进程试图执行非法或未定义的指令。</font><font style="vertical-align: inherit;">该进程可能试图通过配置错误的函数指针跳转到无效地址。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Intel处理器上，</font></font><code>ud2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作码会导致</font></font><code>EXC_BAD_INSTRUCTION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常，但通常用于捕获进程以进行调试。</font><font style="vertical-align: inherit;">如果在运行时遇到意外情况，则Intel处理器上的Swift代码将以此异常类型终止。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跟踪陷阱</font></font><!--/a--></span><font style="vertical-align: inherit;"></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-QUIT__SIGQUIT_" title="退出[SIGQUIT]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出[SIGQUIT]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该进程在另一个进程的请求下终止，并具有管理其生命周期的权限。</font></font><code>SIGQUIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并不意味着该过程崩溃，但它确实可能以可检测的方式行为不端。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在iOS上，如果加载时间过长，主机应用将退出键盘扩展。</font><font style="vertical-align: inherit;">崩溃报告中显示</font><font style="vertical-align: inherit;">的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_28&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不太可能</font><font style="vertical-align: inherit;">指向负责的代码。</font><font style="vertical-align: inherit;">最有可能的是，扩展的启动路径上的一些其他代码需要很长时间才能完成，但在时间限制之前完成，并且</font><font style="vertical-align: inherit;">当扩展退出时</font><font style="vertical-align: inherit;">执行移动到</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_29&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces中</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示的代码</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您应该</font><font style="vertical-align: inherit;">对扩展进行</font></font><span class="content_text"><a href="https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/MeasuringCPUUse.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/InstrumentsUs_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要分析</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以便更好地了解启动期间大多数工作的位置，并将该工作移至后台线程或将其推迟到以后（扩展加载后）。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-KILLED__SIGKILL_" title="被杀[SIGKILL]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被杀[SIGKILL]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程在系统请求时终止。</font><font style="vertical-align: inherit;">查看“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段以更好地了解</font><strong><font style="vertical-align: inherit;">终止原因</font></strong><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段将包含一个名称空间，然后一个代码。</font><font style="vertical-align: inherit;">以下代码特定于watchOS：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止代码</font></font><code>0xc51bad01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示监视应用程序已终止，因为它在执行后台任务时使用了太多CPU时间。</font><font style="vertical-align: inherit;">要解决此问题，请优化执行后台任务的代码以提高CPU效率，或减少应用程序在后台运行时执行的工作量。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止代码</font></font><code>0xc51bad02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示监视应用程序因未能在分配的时间内完成后台任务而终止。</font><font style="vertical-align: inherit;">要解决此问题，请减少应用在后台运行时执行的工作量。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止代码</font></font><code>0xc51bad03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示监视应用程序未能在分配的时间内完成后台任务，并且系统整体上非常繁忙，以至于应用程序可能没有多少CPU时间来执行后台任务。</font><font style="vertical-align: inherit;">虽然应用程序可以通过减少它在后台任务中执行的工作量来避免此问题，</font></font><code>0xc51bad03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但并不表示该应用程序执行了任何错误操作。</font><font style="vertical-align: inherit;">更有可能的是，由于整体系统负载，应用程序无法完成其工作。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-GUARDED_RESOURCE_VIOLATION__EXC_GUARD_" title="保护资源违规[EXC_GUARD]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保护资源违规[EXC_GUARD]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程违反了受保护的资源保护。</font><font style="vertical-align: inherit;">系统库可能会将某些文件描述符标记为</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保护</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，之后对这些描述符的正常操作将触发</font></font><code>EXC_GUARD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常（当它想要对这些文件描述符进行操作时，系统使用特殊的“保护”私有API）。</font><font style="vertical-align: inherit;">这有助于您快速跟踪问题，例如关闭系统库打开的文件描述符。</font><font style="vertical-align: inherit;">例如，如果某个应用程序关闭了用于访问支持Core Data存储的SQLite文件的文件描述符，那么Core Data将在以后神秘地崩溃。</font><font style="vertical-align: inherit;">保护异常会更快地发现这些问题，从而使它们更容易调试。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自较新版本的iOS的崩溃报告包括有关</font></font><code>EXC_GUARD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">中导致</font><font style="vertical-align: inherit;">异常</font><font style="vertical-align: inherit;">的操作的人类可读详细</font><strong><font style="vertical-align: inherit;">信息</font></strong><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在来自macOS或旧版iOS的崩溃报告中，此信息被编码为第一个</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码，</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为位域，按如下方式分解：</font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[63:61]  - 保护类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：保护资源的类型。</font><font style="vertical-align: inherit;">值为</font></font><code>0x2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示资源是文件描述符。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[60:32]  - 风味</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：触发​​违规的条件。</font></font></p><ul class="nested"><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code>(1 &lt;&lt; 0)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">了第一个</font><font style="vertical-align: inherit;">位，则进程尝试</font></font><code>close()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在受保护的文件描述符上</font><font style="vertical-align: inherit;">调用</font><font style="vertical-align: inherit;">。</font></font></p></li><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果第二</font></font><code>(1 &lt;&lt; 1)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位设置，过程试图调用</font></font><code>dup()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>dup2()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>fcntl()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用</font></font><code>F_DUPFD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>F_DUPFD_CLOEXEC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令在把守的文件描述符。</font></font></p></li><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code>(1 &lt;&lt; 2)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">了第三个</font><font style="vertical-align: inherit;">位，则进程尝试通过套接字发送受保护的文件描述符。</font></font></p></li><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code>(1 &lt;&lt; 4)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">了第五</font><font style="vertical-align: inherit;">位，则进程尝试写入受保护的文件描述符。</font></font></p></li></ul></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[31：0]  - 文件描述符</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：进程尝试修改的受保护文件描述符。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-RESOURCE_LIMIT__EXC_RESOURCE_" title="资源限制[EXC_RESOURCE]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源限制[EXC_RESOURCE]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程超出了资源消耗限制。</font><font style="vertical-align: inherit;">这是来自操作系统的通知，该进程使用了​​太多资源。</font><font style="vertical-align: inherit;">确切的资源列在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exception Subtype</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段中。</font><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">包含</font><font style="vertical-align: inherit;">“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常备注”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font></font><code>NON-FATAL CONDITION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则即使生成了崩溃报告，也不会终止该进程。</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font><code>MEMORY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示进程已超过系统强加的内存限制。</font><font style="vertical-align: inherit;">这可能是终止超额内存使用的先兆。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font><code>WAKEUPS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示进程中的线程每秒被唤醒太多次，这迫使CPU经常唤醒并消耗电池寿命。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常，这是由线程到线程的通信（通常使用</font></font><code>peformSelector:onThread:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font></font><code>dispatch_async</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">引起的，这种通信</font><font style="vertical-align: inherit;">在不知不觉中发生的频率远远超过它应该发生的频率。</font><font style="vertical-align: inherit;">因为触发此异常的通信类型经常发生，所以通常会有多个具有非常相似的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_30&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces的</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后台线程</font><font style="vertical-align: inherit;">- 指示通信的来源。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-OTHER_EXCEPTION_TYPES" title="其他异常类型"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他异常类型</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">某些崩溃报告可能包含未命名的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它将打印为十六进制值（例如00000020）。</font><font style="vertical-align: inherit;">如果您收到其中一个崩溃报告，请直接查看“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外代码”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段以获取更多信息。</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xbaaaaaad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示日志是整个系统的堆栈，而不是崩溃报告。</font><font style="vertical-align: inherit;">要拍摄叠印，请同时按侧面按钮和两个音量按钮。</font><font style="vertical-align: inherit;">这些日志通常是由用户意外创建的，并不表示错误。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xbad22222</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示iOS已终止VoIP应用程序，因为它过于频繁地恢复。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0x8badf00d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示iOS已终止应用程序，因为发生了监视程序超时。</font><font style="vertical-align: inherit;">应用程序启动，终止或响应系统事件花费的时间太长。</font><font style="vertical-align: inherit;">其中一个常见原因是</font></font><span class="content_text"><a href="http://developer.apple.com/library/ios/qa/qa1693/" class="browserLink" onclick="s_objectID=&quot;http://developer.apple.com/library/ios/qa/qa1693/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在主线程上</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行</font><span class="content_text"><a href="http://developer.apple.com/library/ios/qa/qa1693/" class="browserLink" onclick="s_objectID=&quot;http://developer.apple.com/library/ios/qa/qa1693/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">同步网络连接</font></a></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">无论什么操作都</font></font><code>Thread 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要移动到后台线程，或者以不同的方式处理，以便它不会阻塞主线程。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xc00010ff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示应用程序被操作系统杀死以响应热事件。</font><font style="vertical-align: inherit;">这可能是由于发生此崩溃的特定设备或其运行环境的问题。有关使您的应用程序更高效运行的提示，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2011/?id=312" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2011/?id=312_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iOS性能和使用Instruments</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WWDC会话进行</font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2011/?id=312" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2011/?id=312_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">功耗优化</font></a></span><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xdead10cc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示应用程序已被操作系统终止，因为它在挂起期间保留了文件锁或sqlite数据库锁。</font><font style="vertical-align: inherit;">如果您的应用程序</font><font style="vertical-align: inherit;">在挂起时</font><font style="vertical-align: inherit;">对</font></font><span class="content_text"><a href="x-man-page://fcntl" class="urlLink" rel="external" onclick="s_objectID=&quot;x-man-page://fcntl_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">锁定文件</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或sqlite数据库</font><font style="vertical-align: inherit;">执行操作</font><font style="vertical-align: inherit;">，则它必须</font></font><span class="content_text"><a href="https://developer.apple.com/reference/uikit/uiapplication/1623051-beginbackgroundtask" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/reference/uikit/uiapplication/1623051-beginbackgroundtask_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求额外的后台执行时间</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来完成这些操作并在挂起之前放弃锁定。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0x2bad45ec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示由于安全违规而导致应用程序被iOS终止。</font><font style="vertical-align: inherit;">终止描述“在安全模式下检测到进行不安全绘制的过程”表示应用程序试图在不允许的情况下绘制到屏幕，例如屏幕被锁定时。</font><font style="vertical-align: inherit;">用户可能不会注意到此终止，因为屏幕关闭或发生此终止时会显示锁定屏幕。</font></font></p></li></ul><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_10" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;使用应用切换器终止暂停的应用不会生成崩溃报告。</font><font style="vertical-align: inherit;">应用程序暂停后，它有资格随时被iOS终止，因此不会生成崩溃报告。</font></font></p><p></p></aside></div></section></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-APPINFO" title="其他诊断信息"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他诊断信息</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节包括特定于终止类型的其他诊断信息，其中可能包括： </font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于应用程序的信息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在进程终止之前捕获的框架错误消息</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内核消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：有关代码签名问题的详细信息</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dyld错误消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：动态链接器发出的错误消息</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从macOS Sierra，iOS 10，watchOS 3和tvOS 10开始，大部分此类信息现在</font><font style="vertical-align: inherit;">在“ </font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_31&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">例外信息”</font></a></span><font style="vertical-align: inherit;">下的</font><font style="vertical-align: inherit;">“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段中</font><font style="vertical-align: inherit;">报告</font><font style="vertical-align: inherit;">。</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_31&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"></font></a></span><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您应该阅读本节以更好地了解流程终止的情况。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE8" title="清单7当流程终止时生成的崩溃报告中的“应用程序特定信息”部分的摘要，因为找不到它所链接的框架。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单7</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;流程终止时生成的崩溃报告中的“应用程序特定信息”部分的摘录，因为找不到链接的框架。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dyld错误消息：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dyld消息：未加载库：@ rpath / MyCustomFramework.framework / MyCustomFramework</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  参考自：/private/var/containers/Bundle/Application/CD9DB546-A449-41A4-A08B-87E57EE11354/TheElements.app/TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  原因：找不到合适的图像。</font></font><span></span></pre></td></tr></tbody></table></div><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE9" title="清单8由于无法快速加载其初始视图控制器而终止进程时生成的崩溃报告中的“应用程序特定信息”部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单8</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;流程终止时生成的崩溃报告中的“特定于应用程序的信息”部分的摘录，因为它无法快速加载其初始视图控制器。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定应用信息：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.example.apple-samplecode.TheElements在19.81s之后无法进行场景创建（启动时间为0.19s，总时间限制为20.00s）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过的总CPU时间（秒）：7.690（用户7.690，系统0.000），19％CPU</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过的应用程序CPU时间（秒）：0.697,2％CPU</font></font><span></span></pre></td></tr></tbody></table></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" title="回溯"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告中最有趣的部分是它终止时每个进程线程的回溯。</font><font style="vertical-align: inherit;">这些跟踪中的每一条都与将进程与调试器暂停时看到的类似。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE10" title="清单9完全符号化崩溃报告中的Backtrace部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单9</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;完全符号化崩溃报告中的Backtrace部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程0名称：Dispatch queue：com.apple.main-thread</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程0崩溃：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 TheElements 0x000000010006bc20  -  [AtomicElementViewController myTransitionDidStop：finished：context：]（AtomicElementViewController.m：203）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 UIKit 0x0000000194cef0f0  -  [UIViewAnimationState sendDelegateAnimationDidStop：finished：] + 312</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 UIKit 0x0000000194ceef30  -  [UIViewAnimationState animationDidStop：finished：] + 160</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 QuartzCore 0x0000000192178404 CA :: Layer :: run_animation_callbacks（void *）+ 260</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 libdispatch.dylib 0x000000018dd6d1c0 _dispatch_client_callout + 16</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 libdispatch.dylib 0x000000018dd71d6c _dispatch_main_queue_callback_4CF + 1000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 CoreFoundation 0x000000018ee91f2c __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 12</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 CoreFoundation 0x000000018ee8fb18 __CFRunLoopRun + 1660</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 CoreFoundation 0x000000018edbe048 CFRunLoopRunSpecific + 444</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 GraphicsServices 0x000000019083f198 GSEventRunModal + 180</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 UIKit 0x0000000194d21bd0  -  [UIApplication _run] + 684</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 UIKit 0x0000000194d1c908 UIApplicationMain + 208</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 TheElements 0x00000001000653c0 main（main.m：55）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13 libdyld.dylib 0x000000018dda05b8 start + 4</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程1：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 libsystem_kernel.dylib 0x000000018deb2a88 __workq_kernreturn + 8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 libsystem_pthread.dylib 0x000000018df75188 _pthread_wqthread + 968</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 libsystem_pthread.dylib 0x000000018df74db4 start_wqthread + 4</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一行列出了线程号和当前正在执行的调度队列的标识符。</font><font style="vertical-align: inherit;">其余行列出了有关回溯中各个堆栈帧的详细信息。</font><font style="vertical-align: inherit;">从左到右：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堆栈帧号。</font><font style="vertical-align: inherit;">堆栈帧以调用顺序呈现，其中第0帧是在执行暂停时执行的函数。</font><font style="vertical-align: inherit;">第一帧是在第0帧调用函数的函数，依此类推。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堆栈帧的执行函数所在的二进制文件的名称。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于第0帧，执行停止时执行的机器指令的地址。</font><font style="vertical-align: inherit;">对于剩余的堆栈帧，当控制返回到堆栈帧时将下一次执行的机器指令的地址。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告中，堆栈框架中函数的方法名称。</font></font></p></li></ul><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE-EXCEPTIONS" title="例外"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objective-C中的异常用于指示在运行时检测到的编程错误，例如访问索引超出范围的数组，尝试改变不可变对象，不实现协议所需的方法，或发送消息接收器无法识别。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_11" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;对先前释放的对象进行消息传递可能会引发</font></font><code>NSInvalidArgumentException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存访问冲突</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">而不是使程序崩溃。</font><font style="vertical-align: inherit;">当在先前由解除分配的对象占用的存储器中分配新对象时，会发生这种情况。</font><font style="vertical-align: inherit;">如果您的应用程序由于未被捕获而崩溃</font></font><code>NSInvalidArgumentException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>-[NSObject(NSObject) doesNotRecognizeSelector:]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在异常回溯中</font><font style="vertical-align: inherit;">查找</font><font style="vertical-align: inherit;">），请考虑使用</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zombies工具</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析您的应用程序，</font><font style="vertical-align: inherit;">以消除不正确的内存管理是可能的原因。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果未捕获异常，则会被称为未捕获异常处理程序的函数拦截。</font><font style="vertical-align: inherit;">默认的未捕获异常处理程序将异常消息记录到设备的控制台，然后终止该进程。</font><font style="vertical-align: inherit;">在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Last Exception Backtrace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font><font style="vertical-align: inherit;">下，只将异常回溯写入生成的崩溃报告</font><font style="vertical-align: inherit;">，如</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单10</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所示</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">崩溃报告中省略了异常消息。</font><font style="vertical-align: inherit;">如果您收到带有</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Last Exception Backtrace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的崩溃报告，</font><font style="vertical-align: inherit;">您应该从原始设备获取控制台日志，以便更好地了解导致异常的条件。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE11" title="清单10来自非符号化崩溃报告的Last Exception Backtrace部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单10</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;来自非符号化崩溃报告的Last Exception Backtrace部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后的异常Backtrace：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（0x18eee41c0 0x18d91c55c 0x18eee3e88 0x18f8ea1a0 0x195013fe4 0x1951acf20 0x18ee03dc4 0x1951ab8f4 0x195458128 0x19545fa20 0x19545fc7c 0x19545ff70 0x194de4594 0x194e94e8c 0x194f47d8c 0x194f39b40 0x194ca92ac 0x18ee917dc 0x18ee8f40c 0x18ee8f89c 0x18edbe048 0x19083f198 0x194d21bd0 0x194d1c908 0x1000ad45c 0x18dda05b8）</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须对包含仅包含十六进制地址的Last Exception Backtrace的崩溃日志进行符号化，以生成可用的回溯，如</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单11</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所示</font><font style="vertical-align: inherit;">。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE12" title="清单11符号化崩溃报告中的Last Exception Backtrace部分的摘录。 在应用程序的故事板中加载场景时引发了此异常。 缺少用于连接到场景中元素的相应IBOutlet。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单11</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;符号化崩溃报告中的Last Exception Backtrace部分的摘录。</font><font style="vertical-align: inherit;">在应用程序的故事板中加载场景时引发了此异常。</font><font style="vertical-align: inherit;">缺少用于连接到场景中元素的相应IBOutlet。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后的异常Backtrace：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 CoreFoundation 0x18eee41c0 __exceptionPreprocess + 124</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 libobjc.A.dylib 0x18d91c55c objc_exception_throw + 56</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 CoreFoundation 0x18eee3e88  -  [NSException raise] + 12</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3基础0x18f8ea1a0  -  [NSObject（NSKeyValueCoding）setValue：forKey：] + 272</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 UIKit 0x195013fe4  -  [UIViewController setValue：forKey：] + 104</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 UIKit 0x1951acf20  -  [UIRuntimeOutletConnection connect] + 124</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 CoreFoundation 0x18ee03dc4  -  [NSArray makeObjectsPerformSelector：] + 232</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 UIKit 0x1951ab8f4  -  [UINib instantiateWithOwner：options：] + 1756</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 UIKit 0x195458128  -  [UIStoryboard instantiateViewControllerWithIdentifier：] + 196</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 UIKit 0x19545fa20  -  [UIStoryboardSegueTemplate instantiateOrFindDestinationViewControllerWithSender：] + 92</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 UIKit 0x19545fc7c  -  [UIStoryboardSegueTemplate _perform：] + 56</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 UIKit 0x19545ff70  -  [UIStoryboardSegueTemplate执行：] + 160</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 UIKit 0x194de4594  -  [UITableView _selectRowAtIndexPath：animated：scrollPosition：notifyDelegate：] + 1352</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13 UIKit 0x194e94e8c  -  [UITableView _userSelectRowAtPendingSelectionIndexPath：] + 268</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14 UIKit 0x194f47d8c _runAfterCACommitDeferredBlocks + 292</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 UIKit 0x194f39b40 _cleanUpAfterCAFlushAndRunDeferredBlocks + 560</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 UIKit 0x194ca92ac _afterCACommitHandler + 168</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17 CoreFoundation 0x18ee917dc __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 32</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 CoreFoundation 0x18ee8f40c __CFRunLoopDoObservers + 372</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19 CoreFoundation 0x18ee8f89c __CFRunLoopRun + 1024</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 CoreFoundation 0x18edbe048 CFRunLoopRunSpecific + 444</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21 GraphicsServices 0x19083f198 GSEventRunModal + 180</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22 UIKit 0x194d21bd0  -  [UIApplication _run] + 684</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23 UIKit 0x194d1c908 UIApplicationMain + 208</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24 TheElements 0x1000ad45c main（main.m：55）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25 libdyld.dylib 0x18dda05b8 start + 4</font></font><span></span></pre></td></tr></tbody></table></div><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_12" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;如果发现应用程序在异常处理域设置中引发的异常未被捕获，请确认</font><font style="vertical-align: inherit;">在构建应用程序或库时</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定该</font></font><code>-no_compact_unwind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64位iOS使用“零成本”异常实现。</font><font style="vertical-align: inherit;">在“零成本”系统中，每个函数都有附加数据，这些数据描述了如果在函数中抛出异常，如何展开堆栈。</font><font style="vertical-align: inherit;">如果在没有展开数据的堆栈帧中抛出异常，则异常处理无法继续，进程将停止。</font><font style="vertical-align: inherit;">堆栈上可能有一个异常处理程序，但如果没有一个框架的展开数据，那么就无法从抛出异常的堆栈框架到达那里。</font><font style="vertical-align: inherit;">指定该</font></font><code>-no_compact_unwind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志意味着您没有获得该代码的展开表，因此您不能在这些函数之间抛出异常。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，如果要在应用程序或库中包含纯C代码，则可能需要指定该</font></font><code>-funwind-tables</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志以包含该代码中所有函数的展开表。</font></font></p></section></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-THREAD_STATE" title="线程状态"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程状态</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节列出了崩溃线程的线程状态。</font><font style="vertical-align: inherit;">这是一个寄存器列表及其执行停止时的值。</font><font style="vertical-align: inherit;">在阅读崩溃报告时，无需了解线程状态，但您可以使用此信息更好地了解崩溃的情况。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE13" title="清单12来自ARM64设备的崩溃报告中的“线程状态”部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单12</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;来自ARM64设备的崩溃报告的“线程状态”部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程0与ARM线程状态（64位）崩溃：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    x0：0x0000000000000000 x1：0x000000019ff776c8 x2：0x0000000000000000 x3：0x000000019ff776c8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    x4：0x0000000000000000 x5：0x0000000000000001 x6：0x0000000000000000 x7：0x00000000000000d0</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    x8：0x0000000100023920 x9：0x0000000000000000 x10：0x000000019ff7dff0 x11：0x0000000c0000000f</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x12：0x000000013e63b4d0 x13：0x000001a19ff75009 x14：0x0000000000000000 x15：0x0000000000000000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x16：0x0000000187b3f1b9 x17：0x0000000181ed488c x18：0x0000000000000000 x19：0x000000013e544780</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x20：0x000000013fa49560 x21：0x0000000000000001 x22：0x000000013fc05f90 x23：0x000000010001e069</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x24：0x0000000000000000 x25：0x000000019ff776c8 x26：0xee009ec07c8c24c7 x27：0x0000000000000020</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x28：0x0000000000000000 fp：0x000000016fdf29e0 lr：0x0000000100017cf8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    sp：0x000000016fdf2980 pc：0x0000000100017d14 cpsr：0x60000000</font></font><span></span></pre></td></tr></tbody></table></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-BINARY_IMAGES" title="二进制图像"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节列出了终止时在进程中加载​​的二进制映像。 </font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE14" title="清单13崩溃报告的二进制映像部分中应用程序条目的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单13</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;崩溃报告的二进制映像部分中应用程序条目的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x100060000  -  0x100073fff TheElements arm64 &lt;2defdbea0c873a52afa458cf14cd169e&gt; /var/containers/Bundle/Application/888C1FA2-3666-4AE2-9E8E-62E2F787DEC1/TheElements.app/TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每行包括单个二进制图像的以下详细信息：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程中的二进制映像的地址空间。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件的二进制名称或包标识符（仅限macOS）。</font><font style="vertical-align: inherit;">在来自macOS的崩溃报告中，如果二进制文件是操作系统的一部分，则前缀为（+）。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅限macOS）二进制文件的短版本字符串和包版本，用短划线分隔。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅限iOS）二进制图像的体系结构。</font><font style="vertical-align: inherit;">二进制文件可能包含多个“切片”，每个“切片”支持一个体系结构。</font><font style="vertical-align: inherit;">这些切片中只有一个加载到过程中。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">唯一标识二进制映像的UUID。</font><font style="vertical-align: inherit;">此值随二进制的每个构建而变化，用于</font><font style="vertical-align: inherit;">在表示崩溃报告时</font><font style="vertical-align: inherit;">定位相应的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dSYM</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磁盘上二进制文件的路径。</font></font></p></li></ul></section><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_4&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-UNDERSTANDING_LOW_MEMORY_REPORTS" title="了解低内存报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解低内存报告</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当检测到低内存条件时，iOS中的虚拟内存系统依赖于应用程序的协作来释放内存。</font><font style="vertical-align: inherit;">低内存通知作为释放内存的请求发送到所有正在运行的应用程序和进程，希望减少使用的内存量。</font><font style="vertical-align: inherit;">如果内存压力仍然存在，系统可以终止后台进程以减轻内存压力。</font><font style="vertical-align: inherit;">如果可以释放足够的内存，您的应用程序将继续运行。</font><font style="vertical-align: inherit;">如果没有，您的应用程序将被iOS终止，因为没有足够的内存来满足应用程序的需求，并且将生成低内存报告并将其存储在设备上。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低内存报告的格式与其他崩溃报告的不同之处在于，应用程序线程没有回溯。</font><font style="vertical-align: inherit;">低内存报告以类似于</font><font style="vertical-align: inherit;">崩溃报告</font><font style="vertical-align: inherit;">的标头的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-CRASH_HEADER" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_32&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标头开头</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">标题后面是列出系统范围内存统计信息的字段集合。</font><font style="vertical-align: inherit;">记下“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面大小”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">的值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">低内存报告中每个进程的内存使用量按内存页数报告。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低内存报告中最重要的部分是进程表。</font><font style="vertical-align: inherit;">此表列出了生成低内存报告时所有正在运行的进程，包括系统守护程序。</font><font style="vertical-align: inherit;">如果一个过程被“抛弃”，原因将列在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[reason]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列下。</font><font style="vertical-align: inherit;">一个过程可能会被抛弃，原因如下：</font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[per-process-limit]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：该进程超过了系统强加的内存限制。</font><font style="vertical-align: inherit;">驻留内存的每进程限制由系统为所有应用程序建立。</font><font style="vertical-align: inherit;">越过此限制使该过程有资格终止。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_13" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;扩展的每进程内存限制要低得多。</font><font style="vertical-align: inherit;">某些技术（如地图视图和SpriteKit）的基准内存成本较高，可能不适合在扩展中使用。</font></font></p><p></p></aside></div></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[vm-pageshortage] / [vm-thrashing] / [vm]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：由于内存压力，该进程被</font><strong><font style="vertical-align: inherit;">终止</font></strong><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[vnode-limit]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：打开的文件太多。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_14" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;当vnode几乎耗尽时，系统可以避免杀死最前面的应用程序。</font><font style="vertical-align: inherit;">这意味着您的应用程序在后台可能会终止，即使它不是过多vnode使用的来源。</font></font></p><p></p></aside></div></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[highwater]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：系统守护进程越过其高水位标记以便使用内存。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[抛弃]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：由于其他原因，该过程被抛弃了。</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您没有看到应用/扩展程序旁边列出的原因，则崩溃的原因不是内存压力。</font><font style="vertical-align: inherit;">查找</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件（在上</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一节中</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font><font style="vertical-align: inherit;">）以获取更多信息。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您发现内存崩溃率较低时，您应该调查内存使用模式以及对低内存警告的响应，而不是担心代码的哪一部分在终止时执行。</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/MemoryManagementforYourApp/MemoryManagementforYourApp.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在应用程序</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/MemoryManagementforYourApp/MemoryManagementforYourApp.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">查找内存问题</font></a></span><font style="vertical-align: inherit;">列出了有关如何使用Leaks Instrument发现内存泄漏的详细步骤，以及如何使用Allocations Instrument的Mark Heap功能来避免丢弃内存。</font></font><span class="content_text"><a href="https://developer.apple.com/library/mac/#documentation/Performance/Conceptual/ManagingMemory/ManagingMemory.html#//apple_ref/doc/uid/10000160i" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/mac/#documentation/Performance/Conceptual/ManagingMemory/Mana_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存使用性能指南</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论了响应低内存通知的正确方法以及有效使用内存的许多技巧。</font><font style="vertical-align: inherit;">还建议您查看WWDC 2010会话，</font></font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2010/?id=311" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2010/?id=311_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用仪器进行高级内存分析</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_15" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;Leaks and Allocations工具不会跟踪所有内存使用情况。</font><font style="vertical-align: inherit;">您需要使用VM Tracker工具（包含在Instruments Allocations模板中）运行您的应用程序，以查看您的总内存使用情况。</font><font style="vertical-align: inherit;">默认情况下禁用VM Tracker。</font><font style="vertical-align: inherit;">要使用VM Tracker配置应用程序，请单击仪器，选中“自动快照”标志或手动按“立即快照”按钮。</font></font></p><p></p></aside></div><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_5&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-RELATED_DOCUMENTS" title="相关文件"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关文件</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关如何使用Instruments Zombies模板修复内存过度崩溃崩溃的信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_4&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Zombies跟踪模板消除僵尸</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关应用程序归档的更多信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introduction/Introduction.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introd_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App Distribution Guide</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关解释崩溃日志的更多信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2010/?id=317" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2010/?id=317_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解iPhone OS WWDC 2010会话上的崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_6&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><br><hr><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_1" title="文档修订历史"></a><a name="//apple_ref/doc/uid/DTS40008184-RevisionHistory-DontLinkElementID_1" title="文档修订历史"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档修订历史</font></font></h4><br><table class="graybox revision-history" border="0" cellspacing="0" cellpadding="5"><colgroup span="1"><col width="145"></colgroup><tbody><tr><th scope="col" align="left"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期</font></font></strong></th><th scope="col" align="left"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">笔记</font></font></strong></th></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2018年1月8日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关使用iTunes Connect网站下载的dSYM中的去混淆符号的信息。</font><font style="vertical-align: inherit;">还添加了异常代码0x2bad45ec的说明。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017年4月3日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">澄清了崩溃报告需要以.crash扩展名命名，以便使用Xcode进行符号化。</font><font style="vertical-align: inherit;">删除了对0xdeadfa11异常代码的讨论（强制退出应用程序不再生成崩溃报告）。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017年2月21日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关watchOS应用程序特定的某些终止代码的信息。</font><font style="vertical-align: inherit;">添加了有关键盘扩展可能接收SIGQUIT信号的原因的信息。  </font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017年1月3日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为0xdead10cc异常代码添加了其他详细信息和解决方案建议。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2016年9月2日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对iOS 10进行了更新。扩展了崩溃报告符号的讨论。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2015年7月21日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新了Xcode 6.扩展了崩溃报告的讨论。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二零一二年十二月一十三日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关更多例外代码的信息 </font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2012-03-28</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关低内存崩溃报告和更多异常代码的信息。</font><font style="vertical-align: inherit;">针对Xcode 4进行了更新。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2011-03-01</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已更新以反映iOS 4.0及更高版本的更改。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2010-07-06</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修正了文档中的错误。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2010-05-18</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已更新，以反映iPhone OS 3.2 SDK和Xcode 3.2.2的更改。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-06-01</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更强调不仅需要保存.dSYM文件，还需要保存应用程序二进制文件。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-04-30</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对iTunes Connect崩溃日志服务进行了更新。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-02-18</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已更新，其中包含防止应用程序代码被符号化的问题的变通方法。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-01-29</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新文档，为开发人员提供基本信息，说明如何对崩溃报告进行符号化，理解和解释。 </font></font></p></td></tr></tbody></table><br>
<div id="pageNavigationLinks_bottom" class="pageNavigationLinks">

</div><br>
<div class="copyright"><br><hr><div align="center"><p class="content_text" lang="en" dir="ltr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有©2018 Apple Inc.保留所有权利。  </font></font><a href="http://www.apple.com/legal/internet-services/terms/site.html" target="_blank" onclick="s_objectID=&quot;http://www.apple.com/legal/internet-services/terms/site.html_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用条款</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    |  </font></font><a href="http://www.apple.com/privacy/" target="_blank" onclick="s_objectID=&quot;http://www.apple.com/privacy/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隐私政策</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   | </font><font style="vertical-align: inherit;">更新：2018-01-08</font></font></p></div></div>

<!-- /CONTENTS -->
<div id="pediaWindow">
<div id="pediaHeader"></div>
<div id="pediaBody"></div>
</div>
<article id="contents" tabindex="0" role="main" class="dts_doc">
<!-- CONTENTS -->
<div id="pageNavigationLinks_top" class="pageNavigationLinks">

</div>
<a id="top" name="top"></a>
<a id="INDEX" href="index.html" style="display:none;" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/index.html_1&quot;;return this.s_oc?this.s_oc(e):true"></a>

<a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_2" title="技术说明TN2151"></a><div class="dtsDocNumber"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">技术说明TN2151</font></font></div><h1 id="pageTitle"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解和分析应用程序崩溃报告</font></font></h1><div class="importantbox clear"><aside><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;此文档不再更新。</font><font style="vertical-align: inherit;">有关Apple SDK的最新信息，请访问</font></font><span class="content_text"><a href="https://developer.apple.com/documentation" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/documentation_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档网站</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当应用程序崩溃时，会创建一个崩溃报告，这对于了解导致崩溃的原因非常有用。</font><font style="vertical-align: inherit;">本文档包含有关如何表示，理解和解释崩溃报告的基本信息。</font></font></p>


<div class="outerMiniTOC">



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-INTRODUCTION" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ACQUIRING_CRASH_AND_LOW_MEMORY_REPORTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取崩溃和低内存报告</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">象征性的崩溃报告</font></font></a>



<div class="nestedMiniTOC">


<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-BITCODE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_4&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位码</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-_DETERMINING_WHETHER_A_CRASH_REPORT_IS_SYMBOLICATED" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_5&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">确定崩溃报告是否符号化</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATEWITHXCODE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_6&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用Xcode标记iOS崩溃报告</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATE_WITH_ATOS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_7&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用atos表示崩溃报告</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATIONTROUBLESHOOTING" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_8&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号故障排除</font></font></a>

</div>


</div>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_9&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析崩溃报告</font></font></a>



<div class="nestedMiniTOC">


<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-CRASH_HEADER" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_10&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_11&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外信息</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-APPINFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_12&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他诊断信息</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_13&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-THREAD_STATE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_14&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程状态</font></font></a>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-BINARY_IMAGES" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_15&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font></a>

</div>


</div>

</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-UNDERSTANDING_LOW_MEMORY_REPORTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_16&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解低内存报告</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-CH1-RELATED_DOCUMENTS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_17&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关文件</font></font></a>



</div>



<div>
<a href="#//apple_ref/doc/uid/DTS40008184-RevisionHistory-DontLinkElementID_1" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_18&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档修订历史</font></font></a>



</div>


</div>

<section><a name="//apple_ref/doc/uid/DTS40008184-CH1-INTRODUCTION" title="介绍"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">介绍</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当应用程序崩溃时，</font><font style="vertical-align: inherit;">会创建</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并将其存储在设备上。</font><font style="vertical-align: inherit;">崩溃报告描述了应用程序终止的条件，在大多数情况下包括每个执行线程的完整回溯，并且通常对于调试应用程序中的问题非常有用。</font><font style="vertical-align: inherit;">您应该查看这些崩溃报告，以了解您的应用程序崩溃了什么，然后尝试修复它们。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带有回溯的崩溃报告需要</font><font style="vertical-align: inherit;">在进行分析之前</font><font style="vertical-align: inherit;">进行</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">符号化用人类可读的函数名称和行号替换内存地址。</font><font style="vertical-align: inherit;">如果您通过Xcode的设备窗口从设备上获取崩溃日志，那么几秒钟后它们将自动被符号化。</font><font style="vertical-align: inherit;">否则，您需要通过将</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件导入Xcode Devices窗口</font><font style="vertical-align: inherit;">来自行符号化</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_19&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低内存报告</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不同之处在于有这类型的报告没有回溯其他的崩溃报告。</font><font style="vertical-align: inherit;">当发生低内存崩溃时，您必须调查内存使用模式以及对低内存警告的响应。</font><font style="vertical-align: inherit;">本文档向您指出了一些您可能会觉得有用的内存管理参考。</font></font></p><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ACQUIRING_CRASH_AND_LOW_MEMORY_REPORTS" title="获取崩溃和低内存报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">获取崩溃和低内存报告</font></font></h2><p><span class="content_text"><a href="https://developer.apple.com/library/ios/#qa/qa1747/_index.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/#qa/qa1747/_index.html_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试已部署的iOS应用程序</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论了如何直接从iOS设备检索崩溃和低内存报告。</font></font></p><p><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析“ </font></font></a></span><font style="vertical-align: inherit;"></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introduction/Introduction.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introd_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序分发指南</font></font></a></span><font style="vertical-align: inherit;"><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">”</font></a></span><font style="vertical-align: inherit;">中的</font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">崩溃报告</font></a></span><font style="vertical-align: inherit;">讨论了如何查看从TestFlight beta测试人员和从App Store下载应用程序的用户收集的聚合崩溃报告。</font></font></p><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION" title="象征性的崩溃报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">象征性的崩溃报告</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化是将</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">地址</font><font style="vertical-align: inherit;">解析</font><font style="vertical-align: inherit;">为源代码方法或函数名称（称为符号）的过程。</font><font style="vertical-align: inherit;">如果没有首先表示崩溃报告，则很难确定崩溃发生的位置。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_3" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;低内存报告不需要进行符号化。</font></font></p><p></p></aside></div><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_4" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;macOS的崩溃报告通常在生成时被符号化或部分符号化。</font><font style="vertical-align: inherit;">本节重点介绍iOS，watchOS和tvOS的崩溃报告，但整个过程与macOS类似。</font></font></p><p></p></aside></div><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE1" title="图1崩溃报告和符号化过程概述"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图1</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;崩溃报告和符号化过程概述。</font></font></figcaption><img src="Art/tn2151_crash_flow.png" class="wide-image" alt="" width="1024" height="1600"><img src="Art/tn2151_crash_flow.png" class="ipad-scaled-image" alt="" width="670" height="1046"></figure><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当编译器将源代码转换为机器代码时，它还会生成调试符号，这些符号将编译后的二进制文件中的每个机器指令映射回源自它的源代码行。</font><font style="vertical-align: inherit;">根据</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debug Information Format</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>DEBUG_INFORMATION_FORMAT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）构建设置，这些调试符号存储在二进制文件或伴随的Debug Symbol（</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）文件中。</font><font style="vertical-align: inherit;">默认情况下，应用程序的调试版本将调试符号存储在已编译的二进制文件中，而应用程序的发布版本将调试符号存储在配套</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件中以减小二进制文件大小。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试符号文件和应用程序二进制文件通过构建UUID在每个构建的基础上绑定在一起。</font><font style="vertical-align: inherit;">为应用程序的每个构建生成一个新的UUID，并唯一标识该构建。</font><font style="vertical-align: inherit;">即使从相同的源代码重建功能相同的可执行文件，使用相同的编译器设置，它也将具有不同的构建UUID。</font><font style="vertical-align: inherit;">调试来自后续版本的符号文件，即使是来自相同的源文件，也不会与来自其他版本的二进制文件互操作。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归档应用程序以进行分发时，Xcode将收集应用程序二进制文件以及。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将文件存储并保存在主文件夹内的某个位置。</font><font style="vertical-align: inherit;">您可以在“已存档”部分的Xcode管理器中找到所有已存档的应用程序。</font><font style="vertical-align: inherit;">有关创建存档的更多信息，请参阅“ </font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introduction/Introduction.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introd_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序分发指南”</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_5" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要点：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;要表示来自测试人员，应用程序审阅和客户的崩溃报告，您必须保留所分发的应用程序的每个版本的存档。</font></font></p><p></p></aside></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您通过App Store分发应用程序，或使用Test Flight进行beta测试，您可以选择</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在将存档上传到iTunes Connect时</font><font style="vertical-align: inherit;">包含该</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">在提交对话框中，选中“为您的应用程序包含应用程序符号...”。</font><font style="vertical-align: inherit;">上传</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件对于接收从TestFlight用户和选择共享诊断数据的客户收集的崩溃报告是必要的。</font><font style="vertical-align: inherit;">有关崩溃报告服务的更多信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/AnalyzingCrashReports/AnalyzingCrashReports.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Analyz_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App Distribution Guide</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_6" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">即使您</font><font style="vertical-align: inherit;">在将存档上传到iTunes Connect时</font><font style="vertical-align: inherit;">包含该</font><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">&nbsp;从App Review收到的崩溃报告也将是非</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化的</font></font><!--/a--></span><font style="vertical-align: inherit;"></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您需要使用Xcode对从App Review收到的任何崩溃报告进行符号化。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATEWITHXCODE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_20&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Xcode标记iOS崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p></p></aside></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您的应用程序崩溃时，</font><font style="vertical-align: inherit;">会创建</font><font style="vertical-align: inherit;">一个非</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化的</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告并将其存储在设备上。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用户可以按照</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/#qa/qa1747/_index.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/#qa/qa1747/_index.html_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">调试已部署的iOS应用程序中</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的步骤直接从其设备检索崩溃报告</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您通过AdHoc或Enterprise分发分发了应用程序，则这是从用户获取崩溃报告的唯一方法。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从设备检索到的崩溃报告</font><font style="vertical-align: inherit;">是非</font><span class="content_text"><font style="vertical-align: inherit;">符号</font></span></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">化的</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，需要</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Xcode</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行</font><span class="content_text"><font style="vertical-align: inherit;">符号化</font></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Xcode使用</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与应用程序二进制文件关联</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件将</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯中的</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个地址替换为</font><font style="vertical-align: inherit;">源代码中的原始位置。</font><font style="vertical-align: inherit;">结果是一个符号化的崩溃报告。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果用户选择与Apple共享诊断数据，或者用户已通过TestFlight安装了应用程序的测试版，则崩溃报告将上载到App Store。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App Store表示崩溃报告，并将其与类似的崩溃报告分组。</font><font style="vertical-align: inherit;">这种类似崩溃报告的汇总称为崩溃点。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode的Crashes组织者可以使用符号化的崩溃报告。</font></font></p></li></ol><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-BITCODE" title="位码"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位码</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bitcode是编译程序的中间表示。</font><font style="vertical-align: inherit;">当您使用bitcode存档应用程序时，编译器会生成包含bitcode而不是机器代码的二进制文件。</font><font style="vertical-align: inherit;">将二进制文件上传到App Store后，bitcode将编译为机器代码。</font><font style="vertical-align: inherit;">App Store可能会在将来再次编译bitcode，以利用未来的编译器改进，而无需您采取任何操作。</font></font></p><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE2" title="图2 Bitcode编译过程概述"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;Bitcode编译过程概述。</font></font></figcaption><img src="Art/tn2151_bitcode_overview.png" class="wide-image" alt="" width="1023" height="207"><img src="Art/tn2151_bitcode_overview.png" class="ipad-scaled-image" alt="" width="670" height="135"></figure><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由于二进制文件的最终编译发生在App Store上，因此Mac不会包含用于表示</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从App Review收到的崩溃报告或从其设备向您发送崩溃报告的用户所需</font><font style="vertical-align: inherit;">的调试符号（</font><font style="vertical-align: inherit;">）文件。</font><font style="vertical-align: inherit;">虽然</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">归档应用程序时会生成</font><font style="vertical-align: inherit;">一个</font><font style="vertical-align: inherit;">文件，但它是用于bitcode二进制文件，不能用于表示崩溃报告。</font><font style="vertical-align: inherit;">App Store使</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以从Xcode或iTunes Connect网站下载bitcode编译期间生成</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">您必须下载这些</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，以便表示从App Review或从其设备向您发送崩溃报告的用户收到的崩溃报告。</font><font style="vertical-align: inherit;">通过崩溃报告服务收到的崩溃报告将自动进行符号化。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_7" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;App Store编译的二进制文件将具有与最初提交的二进制文件不同的UUID。</font></font></p><p></p></aside></div><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-DOWNLOAD_DSYM" title="从Xcode下载dSYM文件"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从Xcode下载dSYM文件</font></font></h4><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Archives管理器中，选择最初提交到App Store的存档。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击“下载dSYMs”按钮。</font></font></p></li></ol><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode下载</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件并将其插入选定的存档。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION_BITCODE-DOWNLOADING_THE_DSYM_FILES_FROM_THE_ITUNES_CONNECT_WEBSITE" title="从iTunes Connect网站下载dSYM文件"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从iTunes Connect网站下载dSYM文件</font></font></h4><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">打开“应用详情”页面。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击活动。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从“所有构建”列表中，选择一个版本。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下载dSYM”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">链接。</font></font></p></li></ol></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION_BITCODE-TRANSLATING__HIDDEN__SYMBOL_NAMES_BACK_TO_THEIR_ORIGINAL_NAMES" title="将“隐藏”符号名称翻译回原始名称"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将“隐藏”符号名称翻译回原始名称</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您将带有bitcode的应用程序上传到App Store时，您可以选择不通过取消选中“上传您的应用程序的符号以从Apple接收符号化报告”框来发送应用程序的符号。</font><font style="vertical-align: inherit;">如果您选择不将应用程序的符号信息发送给Apple，Xcode将替换您应用程序中的符号。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在将应用程序发送到iTunes Connect之前，带有模糊符号的文件，例如“__hidden＃109_”。</font><font style="vertical-align: inherit;">Xcode在原始符号和“隐藏”符号之间创建映射，并将此映射存储</font></font><code>.bcsymbolmap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在应用程序归档内的文件中。</font><font style="vertical-align: inherit;">每个。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件将有一个相应的</font></font><code>.bcsymbolmap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在对崩溃报告进行符号化之前，您需要对符号中的符号进行去混淆。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从iTunes Connect下载的文件。</font><font style="vertical-align: inherit;">如果您使用Xcode中的下载dSYMs按钮，将自动执行此去混淆。</font><font style="vertical-align: inherit;">但是，如果您使用iTunes Connect网站下载。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件，打开终端并使用以下命令对符号进行反模糊处理（用您自己的存档替换示例路径和从iTunes Connect下载的dSYMs文件夹）：</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE1"></a><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xcrun dsymutil -symbol-map~ / Library / Developer / Xcode / Archives / 2017-11-23 / MyGreatApp \ 11-23-17 \，\ 12.00 \ PM.xcarchive / BCSymbolMaps~ / Downloads / dSYMs / 3B15C133-88AA-35B0 -B8BA-84AF76826CE0.dSYM</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为每个运行此命令。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您下载的dSYMs文件夹中的文件。</font></font></p></section></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATION-_DETERMINING_WHETHER_A_CRASH_REPORT_IS_SYMBOLICATED" title=" 确定崩溃报告是否符号化"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 确定崩溃报告是否符号化</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告可以是非符号化的，完全符号化的或部分符号化的。</font><font style="vertical-align: inherit;">非符号化的崩溃报告将不包含</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯中</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的方法或函数名称</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">相反，您在加载的二进制图像中具有可执行代码的十六进制地址。</font><font style="vertical-align: inherit;">在完全符号化的崩溃报告中，</font><font style="vertical-align: inherit;">回溯的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每一</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行中的</font><font style="vertical-align: inherit;">十六进制地址</font><font style="vertical-align: inherit;">将替换为相应的符号。</font><font style="vertical-align: inherit;">在部分符号化的崩溃报告中，只有回溯中的某些地址已替换为其相应的符号。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显然，您应该尝试完全符合您收到的任何崩溃报告，因为它将提供有关崩溃的最深入见解。</font><font style="vertical-align: inherit;">部分符号化的崩溃报告可能包含足够的信息来了解崩溃，具体取决于崩溃的类型以及成功符号化的回溯的哪些部分。</font><font style="vertical-align: inherit;">非符号化的崩溃报告很少有用。</font></font></p><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE3" title="图3在各种符号级别上的相同回溯。"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图3</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;各种符号级别的相同回溯。</font></font></figcaption><img src="Art/tn2151_symbolication_levels.png" class="wide-image" alt="" width="920" height="693"><img src="Art/tn2151_symbolication_levels.png" class="ipad-scaled-image" alt="" width="670" height="504"></figure></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATEWITHXCODE" title="用Xcode标记iOS崩溃报告"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用Xcode标记iOS崩溃报告</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode将自动尝试表示它遇到的所有崩溃报告。</font><font style="vertical-align: inherit;">您需要为符号化做的只是将崩溃报告添加到Xcode Organizer。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_8" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;Xcode不接受没有</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名的</font><font style="vertical-align: inherit;">崩溃报告</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您收到没有扩展程序或扩展程序的崩溃报告，请</font><font style="vertical-align: inherit;">在执行下面列出的步骤之前</font></font><code>.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将其重命名为</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展程序。</font></font></p><p></p></aside></div><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将iOS设备连接到Mac</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从“窗口”菜单中选择“设备”</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在左列的“设备”部分下，选择一个设备</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">单击右侧面板“设备信息”部分下的“查看设备日志”按钮</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将崩溃报告拖到所显示面板的左列</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode将自动表示崩溃报告并显示结果</font></font></p></li></ol><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为了表示崩溃报告，Xcode需要能够找到以下内容：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃的应用程序的二进制</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">文件。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序链接的所有自定义框架</font><font style="vertical-align: inherit;">的二进制文件和</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">对于使用应用程序从源构建的框架，它们的</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件将与应用程序的</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">一起复制到存档中</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">对于由第三方构建的框架，您需要向作者询问该</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃时该应用程序运行的操作系统的符号。</font><font style="vertical-align: inherit;">这些符号包含特定操作系统版本（例如iOS 9.3.3）中包含的框架的调试信息。</font><font style="vertical-align: inherit;">OS符号是特定于体系结构的 - 用于64位设备的iOS版本不包含armv7符号。</font><font style="vertical-align: inherit;">Xcode将自动从连接到Mac的每个设备复制OS符号。</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果缺少任何这些，Xcode可能无法表示崩溃报告，或者可能只是</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分地</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示崩溃报告。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATE_WITH_ATOS" title="用atos表示崩溃报告"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用atos表示崩溃报告</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该 </font></font><span class="content_text"><a href="x-man-page://atos" class="urlLink" rel="external" onclick="s_objectID=&quot;x-man-page://atos_1&quot;;return this.s_oc?this.s_oc(e):true"><codevoice><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATOS</font></font></codevoice></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令将数字地址转换为其符号等效项。</font><font style="vertical-align: inherit;">如果有完整的调试符号信息，则输出</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将包括文件名和源行号信息。</font><font style="vertical-align: inherit;">该</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令可用于在非符号化或部分符号化的崩溃报告的回溯中表示各个地址。</font><font style="vertical-align: inherit;">使用</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下命令</font><font style="vertical-align: inherit;">表示崩溃报告的一部分</font><font style="vertical-align: inherit;">：</font></font></p><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯中</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到</font><font style="vertical-align: inherit;">要符号化的行。</font><font style="vertical-align: inherit;">请注意第二列中二进制图像的名称，以及第三列中的地址。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在崩溃报告底部的</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表中查找具有该名称的</font><span class="content_text"><font style="vertical-align: inherit;">二进制图像</font></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请注意二进制映像的体系结构和加载地址。</font></font></p></li></ol><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE4" title="图4使用atos所需的崩溃报告中的信息。"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图4</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;需要使用的崩溃报告中的信息</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></figcaption><img src="Art/tn2151_atos_info.png" class="wide-image" alt="" width="828" height="238"><img src="Art/tn2151_atos_info.png" class="ipad-scaled-image" alt="" width="670" height="192"></figure><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找到</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件。</font><font style="vertical-align: inherit;">您可以使用Spotlight查找</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制映像的UUID </font><font style="vertical-align: inherit;">的匹配</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATIONTROUBLESHOOTING" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_21&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化故障排除</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件是捆绑包，其中包含一个文件，其中包含编译器在构建时生成的DWARF调试信息。</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在调用时</font><font style="vertical-align: inherit;">，您必须提供此文件的路径，而不是</font><font style="vertical-align: inherit;">包</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用上述信息，您可以使用该</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令</font><font style="vertical-align: inherit;">在回溯中对地址进行符号化</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您可以指定多个要符号化的地址，用空格分隔。</font></font></p><p><code>atos -arch &lt;Binary Architecture&gt; -o &lt;Path to dSYM file&gt;/Contents/Resources/DWARF/&lt;binary image name&gt; -l &lt;load address&gt; &lt;address to symbolicate&gt;</code></p></li></ol><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE2" title="清单1遵循上述步骤的atos命令的示例用法以及结果输出。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单1</font></font></strong><font style="vertical-align: inherit;"></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遵循上述步骤</font><font style="vertical-align: inherit;">&nbsp;&nbsp;的</font><font style="vertical-align: inherit;">命令的</font><font style="vertical-align: inherit;">示例用法</font><font style="vertical-align: inherit;">以及结果输出。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ atos -arch arm64 -o TheElements.app.dSYM / Contents / Resources / DWARF / TheElements -l 0x1000e4000 0x00000001000effdc</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-  [AtomicElementViewController myTransitionDidStop：finished：context：]</font></font><span></span></pre></td></tr></tbody></table></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATIONTROUBLESHOOTING" title="符号故障排除"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号故障排除</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Xcode未能完全符合崩溃报告，可能是因为您的Mac缺少</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序二进制</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件的文件，应用程序链接的一个或多个框架的文件，或者应用程序运行的OS的设备符号它坠毁了。</font><font style="vertical-align: inherit;">以下步骤显示如何使用Spotlight确定</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Mac上是否存在表示二进制图像中的回溯地址所需</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font></font></p><figure class="figure"><a name="//apple_ref/doc/uid/DTS40008184-CH1-FIGURE5" title="图5为二进制映像定位UUID。"></a><figcaption><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">图5</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;找到二进制映像的UUID。</font></font></figcaption><img src="Art/tn2151_find_uuid.png" class="wide-image" alt="" width="828" height="347"><img src="Art/tn2151_find_uuid.png" class="ipad-scaled-image" alt="" width="670" height="280"></figure><ol class="ol"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中找到Xcode无法符号化的行。</font><font style="vertical-align: inherit;">请注意第二列中二进制图像的名称。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在崩溃报告底部的</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列表中查找具有该名称的</font><span class="content_text"><font style="vertical-align: inherit;">二进制图像</font></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此列表包含崩溃时加载到进程中的每个二进制映像的UUID。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE3" title="清单2您可以使用grep命令行工具快速查找二进制图像列表中的条目。"></a><br><br><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单2</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;您可以使用</font></font><code>grep</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行工具快速查找二进制映像列表中的条目。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ grep --after-context = 1000“二进制图像：”&lt;崩溃报告的路径&gt; | </font><font style="vertical-align: inherit;">grep &lt;二进制名称&gt;</font></font><span></span></pre></td></tr></tbody></table></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将二进制映像的UUID转换为以8-4-4-4-12（</font></font><code>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">为一组分隔的32个字符串</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请注意，所有字母</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是大写的。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行工具使用查询</font><font style="vertical-align: inherit;">搜索UUID </font></font><code>"com_apple_xcode_dsym_uuids == &lt;UUID&gt;"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（包括引号）。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE4" title="清单3使用mdfind命令行工具搜索具有给定UUID的dSYM文件。"></a><br><br><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单3</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;使用</font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令行工具搜索</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有给定UUID的文件。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ mdfind“com_apple_xcode_dsym_uuids == &lt;UUID&gt;”</font></font><span></span></pre></td></tr></tbody></table></div></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Spotlight找到</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UUID </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件，</font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将打印该</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">的路径，</font><font style="vertical-align: inherit;">并可能</font><font style="vertical-align: inherit;">打印</font><font style="vertical-align: inherit;">其包含的存档。</font><font style="vertical-align: inherit;">如果</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">找不到UUID </font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件，   </font></font><code>mdfind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将退出而不打印任何内容。</font></font></p></li></ol><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Spotlight找到了</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件，但Xcode无法对该二进制映像中的地址进行符号化，那么您应该提交一个错误。</font><font style="vertical-align: inherit;">将崩溃报告和相关</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件</font><font style="vertical-align: inherit;">附加</font><font style="vertical-align: inherit;">到错误报告中。</font><font style="vertical-align: inherit;">作为解决方法，您可以使用手动对地址进行符号化</font></font><code>atos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-SYMBOLICATE_WITH_ATOS" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_22&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用atos标记崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果Spotlight没有找到</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制映像，请确认您仍然拥有崩溃的应用程序版本的Xcode存档，并且此存档位于Spotlight可以找到它的位置（主目录中的任何位置都应该这样做）。</font><font style="vertical-align: inherit;">如果您的应用程序是在启用bitcode的情况下构建的，请确保</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已从App Store </font><font style="vertical-align: inherit;">下载</font><font style="vertical-align: inherit;">了最终编译</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-DOWNLOAD_DSYM" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_23&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从Xcode下载dSYM文件</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您认为</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制映像</font><font style="vertical-align: inherit;">具有正确性</font><font style="vertical-align: inherit;">，则可以使用该</font></font><code>dwarfdump</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令打印匹配的UUID。</font><font style="vertical-align: inherit;">您还可以使用该</font></font><code>dwarfdump</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令打印二进制文件的UUID。</font></font></p><p><code>xcrun dwarfdump --uuid &lt;Path to dSYM file&gt;</code></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_9" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;您必须拥有最初提交到App Store的存档，以查找崩溃的应用程序版本。</font><font style="vertical-align: inherit;">的</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件和应用程序二进制每个累积的基础上具体绑在一起。</font><font style="vertical-align: inherit;">即使从相同的源和构建配置创建新存档，也不会生成</font></font><code>dSYM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可与崩溃构建互操作</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">文件。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您不再拥有此存档，则应提交保留存档的应用程序的新版本。</font><font style="vertical-align: inherit;">然后，您将能够为此新版本标记崩溃报告。</font></font></p></section><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS" title="分析崩溃报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析崩溃报告</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节讨论标准崩溃报告中的每个部分。</font></font></p><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-CRASH_HEADER" title="头"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">头</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每个崩溃报告都以标题开头。 </font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE5" title="清单4崩溃报告中标题的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单4</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;崩溃报告中标题的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事件标识符：B6FD1E8E-B39F-430B-ADDE-FC3A45ED368C</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CrashReporter密钥：f04e68ec62d3c66057628c9ba9839e30d55937dc</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">硬件型号：iPad6,8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程：TheElements [303]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">路径：/private/var/containers/Bundle/Application/888C1FA2-3666-4AE2-9E8E-62E2F787DEC1/TheElements.app/TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标识符：com.example.apple-samplecode.TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本：1.12</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码类型：ARM-64（Native）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作用：前景</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">父流程：launchd [1]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">联盟：com.example.apple-samplecode.Thelements [402]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期/时间：2016-08-22 10：43：07.5806 -0700</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">发布时间：2016-08-22 10：43：01.0293 -0700</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统版本：iPhone OS 10.0（14A5345a）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">报告版本：104</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大多数领域都是不言自明的，但有一些值得特别注意：</font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事件标识符</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：报告的唯一标识符。</font><font style="vertical-align: inherit;">两个报告永远不会共享相同的事件标识符。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CrashReporter密钥</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：匿名的每设备标识符。</font><font style="vertical-align: inherit;">来自同一设备的两个报告将包含相同的值。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beta标识符</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃应用程序的设备和供应商组合的唯一标识符。</font><font style="vertical-align: inherit;">来自同一供应商和同一设备的两个应用程序报告将包含相同的值。</font><font style="vertical-align: inherit;">此字段仅存在于为通过TestFlight分发的应用程序生成的崩溃报告中，并替换CrashReporter Key字段。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃</font><strong><font style="vertical-align: inherit;">进程</font></strong><font style="vertical-align: inherit;">的可执行文件名称。</font><font style="vertical-align: inherit;">这与</font></font><code>CFBundleExecutable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">应用程序的信息属性列表中</font><font style="vertical-align: inherit;">的</font><font style="vertical-align: inherit;">键值</font><font style="vertical-align: inherit;">匹配</font><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版本</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃的进程版本。</font><font style="vertical-align: inherit;">该字段的值是崩溃的应用程序</font></font><code>CFBundleVersion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font><font style="vertical-align: inherit;">的串联</font></font><code>CFBundleVersionString</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代码类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：崩溃的进程的目标体系结构。</font><font style="vertical-align: inherit;">这将是一</font></font><code>ARM-64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>ARM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>x86-64</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，或</font></font><code>x86</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">角色</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><span class="content_text"><a href="http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h" class="urlLink" rel="external" onclick="s_objectID=&quot;http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止时</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分配给进程</font><font style="vertical-align: inherit;">的</font><span class="content_text"><a href="http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h" class="urlLink" rel="external" onclick="s_objectID=&quot;http://opensource.apple.com/source/xnu/xnu-3248.60.10/osfmk/mach/task_policy.h_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">task_role</font></a></span><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作系统版本</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：发生崩溃的操作系统版本，包括内部版本号。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" title="例外信息"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外信息</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不要与Objective-C / C ++异常混淆（尽管其中一个可能是崩溃的原因），本节列出Mach </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和相关字段，它们提供有关崩溃性质的信息。</font><font style="vertical-align: inherit;">并非每个崩溃报告中都会出现所有字段。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE6" title="清单5由于未捕获的Objective-C异常导致进程终止时生成的崩溃报告中的Exception Codes部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单5</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;由于未捕获的Objective-C异常导致进程终止时生成的崩溃报告中的Exception Codes部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外类型：EXC_CRASH（SIGABRT）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外代码：0x0000000000000000,0x0000000000000000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外注意：EXC_CORPSE_NOTIFY</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由线程触发：0</font></font><span></span></pre></td></tr></tbody></table></div><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE7" title="清单6当进程因为取消引用NULL指针而终止时生成的崩溃报告中的Exception Codes部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单6</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;当进程因为取消引用NULL指针而终止时生成的崩溃报告中的Exception Codes部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外类型：EXC_BAD_ACCESS（SIGSEGV）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型：KERN_INVALID_ADDRESS位于0x0000000000000000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止信号：分段故障：11</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因：命名空间SIGNAL，代码0xb</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止进程：exc处理程序[0]</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由线程触发：0</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">下面介绍可能出现在本节中的字段的说明。 </font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：有关异常的处理器特定信息，编码为一个或多个64位十六进制数。</font><font style="vertical-align: inherit;">通常，此字段将不存在，因为Crash Reporter会解析异常代码以将其作为人类可读的描述呈现在其他字段中。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：异常代码的人类可读名称。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：从异常代码中提取的其他人类可读信息。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常注意</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：非特定于一种异常类型的附加信息。</font><font style="vertical-align: inherit;">如果该字段包含，</font></font><code>SIMULATED (this is NOT a crash)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">那么进程没有崩溃，但是在系统请求时被杀死，通常是看门狗。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：终止进程时指定的退出原因信息。</font><font style="vertical-align: inherit;">进程内部和外部的关键系统组件将在遇到致命错误时终止进程（例如，错误的代码签名，缺少的依赖库，或在没有适当权利的情况下访问隐私敏感信息）。</font><font style="vertical-align: inherit;">macOS Sierra，iOS 10，watchOS 3和tvOS 10采用了新的基础设施来记录这些错误，这些操作系统生成的崩溃报告列出了终止原因字段中的错误消息。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">由线程触发</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：发生异常的线程。</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下部分介绍了一些最常见的异常类型：</font></font></p><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-BAD_MEMORY_ACCESS__EXC_BAD_ACCESS____SIGSEGV____SIGBUS_" title="内存访问不良[EXC_BAD_ACCESS // SIGSEGV // SIGBUS]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存访问不良[EXC_BAD_ACCESS // SIGSEGV // SIGBUS]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该进程尝试访问无效内存，或者尝试以内存保护级别不允许的方式访问内存（例如，写入只读内存）。</font><font style="vertical-align: inherit;">该</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外子类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段包含一个</font></font><code>kern_return_t</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述错误，并且被错误地访问的存储器的地址。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下是调试错误内存访问崩溃的一些提示：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">崩溃线程</font><font style="vertical-align: inherit;">的</font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_24&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">Backtraces</font></a></span><font style="vertical-align: inherit;">顶部</font></font><code>objc_msgSend</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>objc_release</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">附近</font><font style="vertical-align: inherit;">，则该进程可能已尝试向已释放的对象发送消息。</font><font style="vertical-align: inherit;">您应该使用</font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">Zombies工具</font></a></span><font style="vertical-align: inherit;">对</font><font style="vertical-align: inherit;">应用程序进行概要分析，</font><font style="vertical-align: inherit;">以便更好地了解此崩溃的情况。</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_24&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"></font></a></span><font style="vertical-align: inherit;"></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"></font></a></span><font style="vertical-align: inherit;"></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">在崩溃线程</font></font><code>gpus_ReturnNotPermittedKillClient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_25&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">顶部附近</font><font style="vertical-align: inherit;">，则该进程被终止，因为它在后台尝试使用OpenGL ES或Metal进行渲染。</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/qa/qa1766/_index.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/qa/qa1766/_index.html_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QA1766：如何在移动到后台时修复OpenGL ES应用程序崩溃</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">启用</font></font><span class="content_text"><a href="https://developer.apple.com/videos/play/wwdc2015/413/" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/play/wwdc2015/413/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Address Sanitizer</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">运行您的应用程序</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">地址清理程序在已编译的代码中添加了有关内存访问的附加检测。</font><font style="vertical-align: inherit;">当您的应用程序运行时，如果以可能导致崩溃的方式访问内存，Xcode将提醒您。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-ABNORMAL_EXIT__EXC_CRASH____SIGABRT_" title="异常退出[EXC_CRASH // SIGABRT]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常退出[EXC_CRASH // SIGABRT]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程异常退出。</font><font style="vertical-align: inherit;">使用此异常类型导致崩溃的最常见原因是未被​​捕获的Objective-C / C ++ </font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和调用</font></font><code>abort()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果App Extensions花费太多时间进行初始化（看门狗终止），它将以此异常类型终止。</font><font style="vertical-align: inherit;">如果由于启动时挂起而导致扩展名被</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则生成的崩溃报告</font><font style="vertical-align: inherit;">的</font><strong><font style="vertical-align: inherit;">异常子类型</font></strong><font style="vertical-align: inherit;">将是</font></font><code>LAUNCH_HANG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">由于扩展没有</font></font><code>main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数，因此初始化所花费的时间都发生在</font></font><code>+load</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展和依赖库中的</font><font style="vertical-align: inherit;">静态构造函数和</font><font style="vertical-align: inherit;">方法中。</font><font style="vertical-align: inherit;">你应该尽可能多地推迟这项工作。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-TRACE_TRAP__EXC_BREAKPOINT____SIGTRAP_" title="跟踪陷阱[EXC_BREAKPOINT // SIGTRAP]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跟踪陷阱[EXC_BREAKPOINT // SIGTRAP]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常退出</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类似</font><font style="vertical-align: inherit;">，此异常旨在为附加的调试器提供在其执行的特定点中断进程的机会。</font><font style="vertical-align: inherit;">您可以使用该</font></font><code>__builtin_trap()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">函数</font><font style="vertical-align: inherit;">从您自己的代码中触发此异常</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果未附加调试器，则终止该过程并生成崩溃报告。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较低级别的库（例如libdispatch）会在遇到致命错误时捕获进程。</font><font style="vertical-align: inherit;">有关错误的其他信息可以</font><font style="vertical-align: inherit;">在崩溃报告</font><font style="vertical-align: inherit;">的“ </font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-APPINFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_26&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他诊断信息”</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分或设备的控制台中找到。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果在运行时遇到意外情况，则Swift代码将以此异常类型终止，例如：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有nil值的非可选类型</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">强制类型转换失败</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">查看</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_27&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以确定遇到意外情况的位置。</font><font style="vertical-align: inherit;">其他信息也可能已记录到设备的控制台。</font><font style="vertical-align: inherit;">您应该修改崩溃位置的代码以正常处理运行时故障。</font><font style="vertical-align: inherit;">例如，使用</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language/TheBasics.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/Swift/Conceptual/Swift_Programming_Language_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optional Binding</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">而不是强制解包可选。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-ILLEGAL_INSTRUCTION__EXC_BAD_INSTRUCTION____SIGILL_" title="非法指令[EXC_BAD_INSTRUCTION // SIGILL]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非法指令[EXC_BAD_INSTRUCTION // SIGILL]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该进程试图执行非法或未定义的指令。</font><font style="vertical-align: inherit;">该进程可能试图通过配置错误的函数指针跳转到无效地址。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Intel处理器上，</font></font><code>ud2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作码会导致</font></font><code>EXC_BAD_INSTRUCTION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常，但通常用于捕获进程以进行调试。</font><font style="vertical-align: inherit;">如果在运行时遇到意外情况，则Intel处理器上的Swift代码将以此异常类型终止。</font><font style="vertical-align: inherit;">有关</font><font style="vertical-align: inherit;">详细信息，</font><font style="vertical-align: inherit;">请参阅</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">跟踪陷阱</font></font><!--/a--></span><font style="vertical-align: inherit;"></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-QUIT__SIGQUIT_" title="退出[SIGQUIT]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">退出[SIGQUIT]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该进程在另一个进程的请求下终止，并具有管理其生命周期的权限。</font></font><code>SIGQUIT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">并不意味着该过程崩溃，但它确实可能以可检测的方式行为不端。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在iOS上，如果加载时间过长，主机应用将退出键盘扩展。</font><font style="vertical-align: inherit;">崩溃报告中显示</font><font style="vertical-align: inherit;">的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_28&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不太可能</font><font style="vertical-align: inherit;">指向负责的代码。</font><font style="vertical-align: inherit;">最有可能的是，扩展的启动路径上的一些其他代码需要很长时间才能完成，但在时间限制之前完成，并且</font><font style="vertical-align: inherit;">当扩展退出时</font><font style="vertical-align: inherit;">执行移动到</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_29&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces中</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">显示的代码</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">您应该</font><font style="vertical-align: inherit;">对扩展进行</font></font><span class="content_text"><a href="https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/MeasuringCPUUse.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/content/documentation/DeveloperTools/Conceptual/InstrumentsUs_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要分析</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，以便更好地了解启动期间大多数工作的位置，并将该工作移至后台线程或将其推迟到以后（扩展加载后）。</font></font></p></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-KILLED__SIGKILL_" title="被杀[SIGKILL]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">被杀[SIGKILL]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程在系统请求时终止。</font><font style="vertical-align: inherit;">查看“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段以更好地了解</font><strong><font style="vertical-align: inherit;">终止原因</font></strong><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段将包含一个名称空间，然后一个代码。</font><font style="vertical-align: inherit;">以下代码特定于watchOS：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止代码</font></font><code>0xc51bad01</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示监视应用程序已终止，因为它在执行后台任务时使用了太多CPU时间。</font><font style="vertical-align: inherit;">要解决此问题，请优化执行后台任务的代码以提高CPU效率，或减少应用程序在后台运行时执行的工作量。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止代码</font></font><code>0xc51bad02</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示监视应用程序因未能在分配的时间内完成后台任务而终止。</font><font style="vertical-align: inherit;">要解决此问题，请减少应用在后台运行时执行的工作量。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止代码</font></font><code>0xc51bad03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示监视应用程序未能在分配的时间内完成后台任务，并且系统整体上非常繁忙，以至于应用程序可能没有多少CPU时间来执行后台任务。</font><font style="vertical-align: inherit;">虽然应用程序可以通过减少它在后台任务中执行的工作量来避免此问题，</font></font><code>0xc51bad03</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">但并不表示该应用程序执行了任何错误操作。</font><font style="vertical-align: inherit;">更有可能的是，由于整体系统负载，应用程序无法完成其工作。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-GUARDED_RESOURCE_VIOLATION__EXC_GUARD_" title="保护资源违规[EXC_GUARD]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保护资源违规[EXC_GUARD]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程违反了受保护的资源保护。</font><font style="vertical-align: inherit;">系统库可能会将某些文件描述符标记为</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保护</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，之后对这些描述符的正常操作将触发</font></font><code>EXC_GUARD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常（当它想要对这些文件描述符进行操作时，系统使用特殊的“保护”私有API）。</font><font style="vertical-align: inherit;">这有助于您快速跟踪问题，例如关闭系统库打开的文件描述符。</font><font style="vertical-align: inherit;">例如，如果某个应用程序关闭了用于访问支持Core Data存储的SQLite文件的文件描述符，那么Core Data将在以后神秘地崩溃。</font><font style="vertical-align: inherit;">保护异常会更快地发现这些问题，从而使它们更容易调试。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来自较新版本的iOS的崩溃报告包括有关</font></font><code>EXC_GUARD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">中导致</font><font style="vertical-align: inherit;">异常</font><font style="vertical-align: inherit;">的操作的人类可读详细</font><strong><font style="vertical-align: inherit;">信息</font></strong><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">在来自macOS或旧版iOS的崩溃报告中，此信息被编码为第一个</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码，</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作为位域，按如下方式分解：</font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[63:61]  - 保护类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：保护资源的类型。</font><font style="vertical-align: inherit;">值为</font></font><code>0x2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示资源是文件描述符。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[60:32]  - 风味</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：触发​​违规的条件。</font></font></p><ul class="nested"><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code>(1 &lt;&lt; 0)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">了第一个</font><font style="vertical-align: inherit;">位，则进程尝试</font></font><code>close()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在受保护的文件描述符上</font><font style="vertical-align: inherit;">调用</font><font style="vertical-align: inherit;">。</font></font></p></li><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果第二</font></font><code>(1 &lt;&lt; 1)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">位设置，过程试图调用</font></font><code>dup()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><code>dup2()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>fcntl()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用</font></font><code>F_DUPFD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或</font></font><code>F_DUPFD_CLOEXEC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">命令在把守的文件描述符。</font></font></p></li><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code>(1 &lt;&lt; 2)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">了第三个</font><font style="vertical-align: inherit;">位，则进程尝试通过套接字发送受保护的文件描述符。</font></font></p></li><li class="nested li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果</font></font><code>(1 &lt;&lt; 4)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设置</font><font style="vertical-align: inherit;">了第五</font><font style="vertical-align: inherit;">位，则进程尝试写入受保护的文件描述符。</font></font></p></li></ul></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[31：0]  - 文件描述符</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：进程尝试修改的受保护文件描述符。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-RESOURCE_LIMIT__EXC_RESOURCE_" title="资源限制[EXC_RESOURCE]"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">资源限制[EXC_RESOURCE]</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">该过程超出了资源消耗限制。</font><font style="vertical-align: inherit;">这是来自操作系统的通知，该进程使用了​​太多资源。</font><font style="vertical-align: inherit;">确切的资源列在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exception Subtype</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段中。</font><font style="vertical-align: inherit;">如果</font><font style="vertical-align: inherit;">包含</font><font style="vertical-align: inherit;">“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常备注”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font></font><code>NON-FATAL CONDITION</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，则即使生成了崩溃报告，也不会终止该进程。</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font><code>MEMORY</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示进程已超过系统强加的内存限制。</font><font style="vertical-align: inherit;">这可能是终止超额内存使用的先兆。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常子类型</font></font><code>WAKEUPS</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示进程中的线程每秒被唤醒太多次，这迫使CPU经常唤醒并消耗电池寿命。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常，这是由线程到线程的通信（通常使用</font></font><code>peformSelector:onThread:</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或者</font></font><code>dispatch_async</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">引起的，这种通信</font><font style="vertical-align: inherit;">在不知不觉中发生的频率远远超过它应该发生的频率。</font><font style="vertical-align: inherit;">因为触发此异常的通信类型经常发生，所以通常会有多个具有非常相似的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_30&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Backtraces的</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">后台线程</font><font style="vertical-align: inherit;">- 指示通信的来源。</font></font></p></li></ul></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO-OTHER_EXCEPTION_TYPES" title="其他异常类型"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他异常类型</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">某些崩溃报告可能包含未命名的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常类型</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，它将打印为十六进制值（例如00000020）。</font><font style="vertical-align: inherit;">如果您收到其中一个崩溃报告，请直接查看“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外代码”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段以获取更多信息。</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xbaaaaaad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示日志是整个系统的堆栈，而不是崩溃报告。</font><font style="vertical-align: inherit;">要拍摄叠印，请同时按侧面按钮和两个音量按钮。</font><font style="vertical-align: inherit;">这些日志通常是由用户意外创建的，并不表示错误。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xbad22222</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示iOS已终止VoIP应用程序，因为它过于频繁地恢复。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0x8badf00d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示iOS已终止应用程序，因为发生了监视程序超时。</font><font style="vertical-align: inherit;">应用程序启动，终止或响应系统事件花费的时间太长。</font><font style="vertical-align: inherit;">其中一个常见原因是</font></font><span class="content_text"><a href="http://developer.apple.com/library/ios/qa/qa1693/" class="browserLink" onclick="s_objectID=&quot;http://developer.apple.com/library/ios/qa/qa1693/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在主线程上</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行</font><span class="content_text"><a href="http://developer.apple.com/library/ios/qa/qa1693/" class="browserLink" onclick="s_objectID=&quot;http://developer.apple.com/library/ios/qa/qa1693/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">同步网络连接</font></a></span><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">无论什么操作都</font></font><code>Thread 0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">需要移动到后台线程，或者以不同的方式处理，以便它不会阻塞主线程。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xc00010ff</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示应用程序被操作系统杀死以响应热事件。</font><font style="vertical-align: inherit;">这可能是由于发生此崩溃的特定设备或其运行环境的问题。有关使您的应用程序更高效运行的提示，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2011/?id=312" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2011/?id=312_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iOS性能和使用Instruments</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> WWDC会话进行</font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2011/?id=312" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2011/?id=312_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">功耗优化</font></a></span><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0xdead10cc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示应用程序已被操作系统终止，因为它在挂起期间保留了文件锁或sqlite数据库锁。</font><font style="vertical-align: inherit;">如果您的应用程序</font><font style="vertical-align: inherit;">在挂起时</font><font style="vertical-align: inherit;">对</font></font><span class="content_text"><a href="x-man-page://fcntl" class="urlLink" rel="external" onclick="s_objectID=&quot;x-man-page://fcntl_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">锁定文件</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">或sqlite数据库</font><font style="vertical-align: inherit;">执行操作</font><font style="vertical-align: inherit;">，则它必须</font></font><span class="content_text"><a href="https://developer.apple.com/reference/uikit/uiapplication/1623051-beginbackgroundtask" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/reference/uikit/uiapplication/1623051-beginbackgroundtask_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">请求额外的后台执行时间</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来完成这些操作并在挂起之前放弃锁定。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">异常代码</font></font><code>0x2bad45ec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表示由于安全违规而导致应用程序被iOS终止。</font><font style="vertical-align: inherit;">终止描述“在安全模式下检测到进行不安全绘制的过程”表示应用程序试图在不允许的情况下绘制到屏幕，例如屏幕被锁定时。</font><font style="vertical-align: inherit;">用户可能不会注意到此终止，因为屏幕关闭或发生此终止时会显示锁定屏幕。</font></font></p></li></ul><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_10" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;使用应用切换器终止暂停的应用不会生成崩溃报告。</font><font style="vertical-align: inherit;">应用程序暂停后，它有资格随时被iOS终止，因此不会生成崩溃报告。</font></font></p><p></p></aside></div></section></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-APPINFO" title="其他诊断信息"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他诊断信息</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节包括特定于终止类型的其他诊断信息，其中可能包括： </font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定于应用程序的信息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：在进程终止之前捕获的框架错误消息</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内核消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：有关代码签名问题的详细信息</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dyld错误消息</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：动态链接器发出的错误消息</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从macOS Sierra，iOS 10，watchOS 3和tvOS 10开始，大部分此类信息现在</font><font style="vertical-align: inherit;">在“ </font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_31&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">例外信息”</font></a></span><font style="vertical-align: inherit;">下的</font><font style="vertical-align: inherit;">“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">终止原因”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段中</font><font style="vertical-align: inherit;">报告</font><font style="vertical-align: inherit;">。</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-EXCEPTION_INFO" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_31&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"></font></a></span><font style="vertical-align: inherit;"></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您应该阅读本节以更好地了解流程终止的情况。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE8" title="清单7当流程终止时生成的崩溃报告中的“应用程序特定信息”部分的摘要，因为找不到它所链接的框架。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单7</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;流程终止时生成的崩溃报告中的“应用程序特定信息”部分的摘录，因为找不到链接的框架。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dyld错误消息：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dyld消息：未加载库：@ rpath / MyCustomFramework.framework / MyCustomFramework</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  参考自：/private/var/containers/Bundle/Application/CD9DB546-A449-41A4-A08B-87E57EE11354/TheElements.app/TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">  原因：找不到合适的图像。</font></font><span></span></pre></td></tr></tbody></table></div><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE9" title="清单8由于无法快速加载其初始视图控制器而终止进程时生成的崩溃报告中的“应用程序特定信息”部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单8</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;流程终止时生成的崩溃报告中的“特定于应用程序的信息”部分的摘录，因为它无法快速加载其初始视图控制器。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定应用信息：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.example.apple-samplecode.TheElements在19.81s之后无法进行场景创建（启动时间为0.19s，总时间限制为20.00s）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过的总CPU时间（秒）：7.690（用户7.690，系统0.000），19％CPU</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">经过的应用程序CPU时间（秒）：0.697,2％CPU</font></font><span></span></pre></td></tr></tbody></table></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE" title="回溯"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回溯</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告中最有趣的部分是它终止时每个进程线程的回溯。</font><font style="vertical-align: inherit;">这些跟踪中的每一条都与将进程与调试器暂停时看到的类似。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE10" title="清单9完全符号化崩溃报告中的Backtrace部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单9</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;完全符号化崩溃报告中的Backtrace部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程0名称：Dispatch queue：com.apple.main-thread</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程0崩溃：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 TheElements 0x000000010006bc20  -  [AtomicElementViewController myTransitionDidStop：finished：context：]（AtomicElementViewController.m：203）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 UIKit 0x0000000194cef0f0  -  [UIViewAnimationState sendDelegateAnimationDidStop：finished：] + 312</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 UIKit 0x0000000194ceef30  -  [UIViewAnimationState animationDidStop：finished：] + 160</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 QuartzCore 0x0000000192178404 CA :: Layer :: run_animation_callbacks（void *）+ 260</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 libdispatch.dylib 0x000000018dd6d1c0 _dispatch_client_callout + 16</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 libdispatch.dylib 0x000000018dd71d6c _dispatch_main_queue_callback_4CF + 1000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 CoreFoundation 0x000000018ee91f2c __CFRUNLOOP_IS_SERVICING_THE_MAIN_DISPATCH_QUEUE__ + 12</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 CoreFoundation 0x000000018ee8fb18 __CFRunLoopRun + 1660</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 CoreFoundation 0x000000018edbe048 CFRunLoopRunSpecific + 444</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 GraphicsServices 0x000000019083f198 GSEventRunModal + 180</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 UIKit 0x0000000194d21bd0  -  [UIApplication _run] + 684</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 UIKit 0x0000000194d1c908 UIApplicationMain + 208</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 TheElements 0x00000001000653c0 main（main.m：55）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13 libdyld.dylib 0x000000018dda05b8 start + 4</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程1：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 libsystem_kernel.dylib 0x000000018deb2a88 __workq_kernreturn + 8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 libsystem_pthread.dylib 0x000000018df75188 _pthread_wqthread + 968</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 libsystem_pthread.dylib 0x000000018df74db4 start_wqthread + 4</font></font><span></span></pre></td></tr><tr><td scope="row"><pre> <span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第一行列出了线程号和当前正在执行的调度队列的标识符。</font><font style="vertical-align: inherit;">其余行列出了有关回溯中各个堆栈帧的详细信息。</font><font style="vertical-align: inherit;">从左到右：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堆栈帧号。</font><font style="vertical-align: inherit;">堆栈帧以调用顺序呈现，其中第0帧是在执行暂停时执行的函数。</font><font style="vertical-align: inherit;">第一帧是在第0帧调用函数的函数，依此类推。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">堆栈帧的执行函数所在的二进制文件的名称。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">对于第0帧，执行停止时执行的机器指令的地址。</font><font style="vertical-align: inherit;">对于剩余的堆栈帧，当控制返回到堆栈帧时将下一次执行的机器指令的地址。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">符号化</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">崩溃报告中，堆栈框架中函数的方法名称。</font></font></p></li></ul><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-STACKTRACE-EXCEPTIONS" title="例外"></a><h4 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外</font></font></h4><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Objective-C中的异常用于指示在运行时检测到的编程错误，例如访问索引超出范围的数组，尝试改变不可变对象，不实现协议所需的方法，或发送消息接收器无法识别。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_11" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;对先前释放的对象进行消息传递可能会引发</font></font><code>NSInvalidArgumentException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存访问冲突</font><font style="vertical-align: inherit;">，</font><font style="vertical-align: inherit;">而不是使程序崩溃。</font><font style="vertical-align: inherit;">当在先前由解除分配的对象占用的存储器中分配新对象时，会发生这种情况。</font><font style="vertical-align: inherit;">如果您的应用程序由于未被捕获而崩溃</font></font><code>NSInvalidArgumentException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>-[NSObject(NSObject) doesNotRecognizeSelector:]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在异常回溯中</font><font style="vertical-align: inherit;">查找</font><font style="vertical-align: inherit;">），请考虑使用</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_2&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zombies工具</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析您的应用程序，</font><font style="vertical-align: inherit;">以消除不正确的内存管理是可能的原因。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果未捕获异常，则会被称为未捕获异常处理程序的函数拦截。</font><font style="vertical-align: inherit;">默认的未捕获异常处理程序将异常消息记录到设备的控制台，然后终止该进程。</font><font style="vertical-align: inherit;">在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Last Exception Backtrace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分</font><font style="vertical-align: inherit;">下，只将异常回溯写入生成的崩溃报告</font><font style="vertical-align: inherit;">，如</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单10</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所示</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">崩溃报告中省略了异常消息。</font><font style="vertical-align: inherit;">如果您收到带有</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Last Exception Backtrace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的崩溃报告，</font><font style="vertical-align: inherit;">您应该从原始设备获取控制台日志，以便更好地了解导致异常的条件。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE11" title="清单10来自非符号化崩溃报告的Last Exception Backtrace部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单10</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;来自非符号化崩溃报告的Last Exception Backtrace部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后的异常Backtrace：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（0x18eee41c0 0x18d91c55c 0x18eee3e88 0x18f8ea1a0 0x195013fe4 0x1951acf20 0x18ee03dc4 0x1951ab8f4 0x195458128 0x19545fa20 0x19545fc7c 0x19545ff70 0x194de4594 0x194e94e8c 0x194f47d8c 0x194f39b40 0x194ca92ac 0x18ee917dc 0x18ee8f40c 0x18ee8f89c 0x18edbe048 0x19083f198 0x194d21bd0 0x194d1c908 0x1000ad45c 0x18dda05b8）</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必须对包含仅包含十六进制地址的Last Exception Backtrace的崩溃日志进行符号化，以生成可用的回溯，如</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单11</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所示</font><font style="vertical-align: inherit;">。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE12" title="清单11符号化崩溃报告中的Last Exception Backtrace部分的摘录。 在应用程序的故事板中加载场景时引发了此异常。 缺少用于连接到场景中元素的相应IBOutlet。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单11</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;符号化崩溃报告中的Last Exception Backtrace部分的摘录。</font><font style="vertical-align: inherit;">在应用程序的故事板中加载场景时引发了此异常。</font><font style="vertical-align: inherit;">缺少用于连接到场景中元素的相应IBOutlet。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最后的异常Backtrace：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 CoreFoundation 0x18eee41c0 __exceptionPreprocess + 124</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 libobjc.A.dylib 0x18d91c55c objc_exception_throw + 56</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 CoreFoundation 0x18eee3e88  -  [NSException raise] + 12</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3基础0x18f8ea1a0  -  [NSObject（NSKeyValueCoding）setValue：forKey：] + 272</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 UIKit 0x195013fe4  -  [UIViewController setValue：forKey：] + 104</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 UIKit 0x1951acf20  -  [UIRuntimeOutletConnection connect] + 124</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6 CoreFoundation 0x18ee03dc4  -  [NSArray makeObjectsPerformSelector：] + 232</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7 UIKit 0x1951ab8f4  -  [UINib instantiateWithOwner：options：] + 1756</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8 UIKit 0x195458128  -  [UIStoryboard instantiateViewControllerWithIdentifier：] + 196</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 UIKit 0x19545fa20  -  [UIStoryboardSegueTemplate instantiateOrFindDestinationViewControllerWithSender：] + 92</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10 UIKit 0x19545fc7c  -  [UIStoryboardSegueTemplate _perform：] + 56</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11 UIKit 0x19545ff70  -  [UIStoryboardSegueTemplate执行：] + 160</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">12 UIKit 0x194de4594  -  [UITableView _selectRowAtIndexPath：animated：scrollPosition：notifyDelegate：] + 1352</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13 UIKit 0x194e94e8c  -  [UITableView _userSelectRowAtPendingSelectionIndexPath：] + 268</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14 UIKit 0x194f47d8c _runAfterCACommitDeferredBlocks + 292</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 UIKit 0x194f39b40 _cleanUpAfterCAFlushAndRunDeferredBlocks + 560</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 UIKit 0x194ca92ac _afterCACommitHandler + 168</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17 CoreFoundation 0x18ee917dc __CFRUNLOOP_IS_CALLING_OUT_TO_AN_OBSERVER_CALLBACK_FUNCTION__ + 32</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18 CoreFoundation 0x18ee8f40c __CFRunLoopDoObservers + 372</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">19 CoreFoundation 0x18ee8f89c __CFRunLoopRun + 1024</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20 CoreFoundation 0x18edbe048 CFRunLoopRunSpecific + 444</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21 GraphicsServices 0x19083f198 GSEventRunModal + 180</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22 UIKit 0x194d21bd0  -  [UIApplication _run] + 684</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23 UIKit 0x194d1c908 UIApplicationMain + 208</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24 TheElements 0x1000ad45c main（main.m：55）</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25 libdyld.dylib 0x18dda05b8 start + 4</font></font><span></span></pre></td></tr></tbody></table></div><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_12" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;如果发现应用程序在异常处理域设置中引发的异常未被捕获，请确认</font><font style="vertical-align: inherit;">在构建应用程序或库时</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">未</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定该</font></font><code>-no_compact_unwind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志。</font></font></p><p></p></aside></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64位iOS使用“零成本”异常实现。</font><font style="vertical-align: inherit;">在“零成本”系统中，每个函数都有附加数据，这些数据描述了如果在函数中抛出异常，如何展开堆栈。</font><font style="vertical-align: inherit;">如果在没有展开数据的堆栈帧中抛出异常，则异常处理无法继续，进程将停止。</font><font style="vertical-align: inherit;">堆栈上可能有一个异常处理程序，但如果没有一个框架的展开数据，那么就无法从抛出异常的堆栈框架到达那里。</font><font style="vertical-align: inherit;">指定该</font></font><code>-no_compact_unwind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志意味着您没有获得该代码的展开表，因此您不能在这些函数之间抛出异常。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此外，如果要在应用程序或库中包含纯C代码，则可能需要指定该</font></font><code>-funwind-tables</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标志以包含该代码中所有函数的展开表。</font></font></p></section></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-THREAD_STATE" title="线程状态"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程状态</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节列出了崩溃线程的线程状态。</font><font style="vertical-align: inherit;">这是一个寄存器列表及其执行停止时的值。</font><font style="vertical-align: inherit;">在阅读崩溃报告时，无需了解线程状态，但您可以使用此信息更好地了解崩溃的情况。</font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE13" title="清单12来自ARM64设备的崩溃报告中的“线程状态”部分的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单12</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;来自ARM64设备的崩溃报告的“线程状态”部分的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">线程0与ARM线程状态（64位）崩溃：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    x0：0x0000000000000000 x1：0x000000019ff776c8 x2：0x0000000000000000 x3：0x000000019ff776c8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    x4：0x0000000000000000 x5：0x0000000000000001 x6：0x0000000000000000 x7：0x00000000000000d0</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    x8：0x0000000100023920 x9：0x0000000000000000 x10：0x000000019ff7dff0 x11：0x0000000c0000000f</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x12：0x000000013e63b4d0 x13：0x000001a19ff75009 x14：0x0000000000000000 x15：0x0000000000000000</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x16：0x0000000187b3f1b9 x17：0x0000000181ed488c x18：0x0000000000000000 x19：0x000000013e544780</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x20：0x000000013fa49560 x21：0x0000000000000001 x22：0x000000013fc05f90 x23：0x000000010001e069</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x24：0x0000000000000000 x25：0x000000019ff776c8 x26：0xee009ec07c8c24c7 x27：0x0000000000000020</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   x28：0x0000000000000000 fp：0x000000016fdf29e0 lr：0x0000000100017cf8</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    sp：0x000000016fdf2980 pc：0x0000000100017d14 cpsr：0x60000000</font></font><span></span></pre></td></tr></tbody></table></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-ANALYZING_CRASH_REPORTS-BINARY_IMAGES" title="二进制图像"></a><h3 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像</font></font></h3><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本节列出了终止时在进程中加载​​的二进制映像。 </font></font></p><a name="//apple_ref/doc/uid/DTS40008184-CH1-SOURCECODE14" title="清单13崩溃报告的二进制映像部分中应用程序条目的摘录。"></a><p class="codesample clear"><strong class="caption_number"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">清单13</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;&nbsp;崩溃报告的二进制映像部分中应用程序条目的摘录。</font></font></p><div class="codesample clear"><table><tbody><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制图像：</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0x100060000  -  0x100073fff TheElements arm64 &lt;2defdbea0c873a52afa458cf14cd169e&gt; /var/containers/Bundle/Application/888C1FA2-3666-4AE2-9E8E-62E2F787DEC1/TheElements.app/TheElements</font></font><span></span></pre></td></tr><tr><td scope="row"><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font><span></span></pre></td></tr></tbody></table></div><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">每行包括单个二进制图像的以下详细信息：</font></font></p><ul class="ul"><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进程中的二进制映像的地址空间。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二进制文件的二进制名称或包标识符（仅限macOS）。</font><font style="vertical-align: inherit;">在来自macOS的崩溃报告中，如果二进制文件是操作系统的一部分，则前缀为（+）。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅限macOS）二进制文件的短版本字符串和包版本，用短划线分隔。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（仅限iOS）二进制图像的体系结构。</font><font style="vertical-align: inherit;">二进制文件可能包含多个“切片”，每个“切片”支持一个体系结构。</font><font style="vertical-align: inherit;">这些切片中只有一个加载到过程中。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">唯一标识二进制映像的UUID。</font><font style="vertical-align: inherit;">此值随二进制的每个构建而变化，用于</font><font style="vertical-align: inherit;">在表示崩溃报告时</font><font style="vertical-align: inherit;">定位相应的</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dSYM</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件。</font></font></p></li><li class="li"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">磁盘上二进制文件的路径。</font></font></p></li></ul></section><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_4&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-UNDERSTANDING_LOW_MEMORY_REPORTS" title="了解低内存报告"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解低内存报告</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当检测到低内存条件时，iOS中的虚拟内存系统依赖于应用程序的协作来释放内存。</font><font style="vertical-align: inherit;">低内存通知作为释放内存的请求发送到所有正在运行的应用程序和进程，希望减少使用的内存量。</font><font style="vertical-align: inherit;">如果内存压力仍然存在，系统可以终止后台进程以减轻内存压力。</font><font style="vertical-align: inherit;">如果可以释放足够的内存，您的应用程序将继续运行。</font><font style="vertical-align: inherit;">如果没有，您的应用程序将被iOS终止，因为没有足够的内存来满足应用程序的需求，并且将生成低内存报告并将其存储在设备上。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低内存报告的格式与其他崩溃报告的不同之处在于，应用程序线程没有回溯。</font><font style="vertical-align: inherit;">低内存报告以类似于</font><font style="vertical-align: inherit;">崩溃报告</font><font style="vertical-align: inherit;">的标头的</font></font><span class="content_text"><a href="#//apple_ref/doc/uid/DTS40008184-CH1-CRASH_HEADER" data-renderer-version="1" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#//apple_ref/doc/uid/DTS4_32&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">标头开头</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">标题后面是列出系统范围内存统计信息的字段集合。</font><font style="vertical-align: inherit;">记下“ </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">页面大小”</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">字段</font><font style="vertical-align: inherit;">的值</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">低内存报告中每个进程的内存使用量按内存页数报告。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低内存报告中最重要的部分是进程表。</font><font style="vertical-align: inherit;">此表列出了生成低内存报告时所有正在运行的进程，包括系统守护程序。</font><font style="vertical-align: inherit;">如果一个过程被“抛弃”，原因将列在</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[reason]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">列下。</font><font style="vertical-align: inherit;">一个过程可能会被抛弃，原因如下：</font></font></p><ul class="ul"><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[per-process-limit]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：该进程超过了系统强加的内存限制。</font><font style="vertical-align: inherit;">驻留内存的每进程限制由系统为所有应用程序建立。</font><font style="vertical-align: inherit;">越过此限制使该过程有资格终止。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_13" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;扩展的每进程内存限制要低得多。</font><font style="vertical-align: inherit;">某些技术（如地图视图和SpriteKit）的基准内存成本较高，可能不适合在扩展中使用。</font></font></p><p></p></aside></div></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[vm-pageshortage] / [vm-thrashing] / [vm]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：由于内存压力，该进程被</font><strong><font style="vertical-align: inherit;">终止</font></strong><font style="vertical-align: inherit;">。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[vnode-limit]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：打开的文件太多。</font></font></p><div class="notebox"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_14" title="注意"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;当vnode几乎耗尽时，系统可以避免杀死最前面的应用程序。</font><font style="vertical-align: inherit;">这意味着您的应用程序在后台可能会终止，即使它不是过多vnode使用的来源。</font></font></p><p></p></aside></div></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[highwater]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：系统守护进程越过其高水位标记以便使用内存。</font></font></p></li><li class="li"><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[抛弃]</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：由于其他原因，该过程被抛弃了。</font></font></p></li></ul><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果您没有看到应用/扩展程序旁边列出的原因，则崩溃的原因不是内存压力。</font><font style="vertical-align: inherit;">查找</font></font><code>.crash</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文件（在上</font></font><span class="content_text"><!--a  --><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一节中</font></font><!--/a--></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描述</font><font style="vertical-align: inherit;">）以获取更多信息。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">当您发现内存崩溃率较低时，您应该调查内存使用模式以及对低内存警告的响应，而不是担心代码的哪一部分在终止时执行。</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/MemoryManagementforYourApp/MemoryManagementforYourApp.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在应用程序</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中</font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/MemoryManagementforYourApp/MemoryManagementforYourApp.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;">查找内存问题</font></a></span><font style="vertical-align: inherit;">列出了有关如何使用Leaks Instrument发现内存泄漏的详细步骤，以及如何使用Allocations Instrument的Mark Heap功能来避免丢弃内存。</font></font><span class="content_text"><a href="https://developer.apple.com/library/mac/#documentation/Performance/Conceptual/ManagingMemory/ManagingMemory.html#//apple_ref/doc/uid/10000160i" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/mac/#documentation/Performance/Conceptual/ManagingMemory/Mana_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存使用性能指南</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">讨论了响应低内存通知的正确方法以及有效使用内存的许多技巧。</font><font style="vertical-align: inherit;">还建议您查看WWDC 2010会话，</font></font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2010/?id=311" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2010/?id=311_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用仪器进行高级内存分析</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="importantbox clear"><aside><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_15" title="重要"></a><p><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要提示：</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;Leaks and Allocations工具不会跟踪所有内存使用情况。</font><font style="vertical-align: inherit;">您需要使用VM Tracker工具（包含在Instruments Allocations模板中）运行您的应用程序，以查看您的总内存使用情况。</font><font style="vertical-align: inherit;">默认情况下禁用VM Tracker。</font><font style="vertical-align: inherit;">要使用VM Tracker配置应用程序，请单击仪器，选中“自动快照”标志或手动按“立即快照”按钮。</font></font></p><p></p></aside></div><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_5&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><section><a name="//apple_ref/doc/uid/DTS40008184-CH1-RELATED_DOCUMENTS" title="相关文件"></a><h2 class="jump"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相关文件</font></font></h2><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关如何使用Instruments Zombies模板修复内存过度崩溃崩溃的信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGuide/EradicatingZombies.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/DeveloperTools/Conceptual/InstrumentsUserGu_4&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用Zombies跟踪模板消除僵尸</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关应用程序归档的更多信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introduction/Introduction.html" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/library/ios/documentation/IDEs/Conceptual/AppDistributionGuide/Introd_3&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App Distribution Guide</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关解释崩溃日志的更多信息，请参阅</font></font><span class="content_text"><a href="https://developer.apple.com/videos/wwdc/2010/?id=317" class="urlLink" rel="external" onclick="s_objectID=&quot;https://developer.apple.com/videos/wwdc/2010/?id=317_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">了解iPhone OS WWDC 2010会话上的崩溃报告</font></font></a></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></p><div class="back_to_top"><a href="#top" onclick="s_objectID=&quot;https://developer.apple.com/library/archive/technotes/tn2151/_index.html#top_6&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回到顶部</font></font></a></div></section><br><hr><a name="//apple_ref/doc/uid/DTS40008184-CH1-DontLinkElementID_1" title="文档修订历史"></a><a name="//apple_ref/doc/uid/DTS40008184-RevisionHistory-DontLinkElementID_1" title="文档修订历史"></a><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文档修订历史</font></font></h4><br><table class="graybox revision-history" border="0" cellspacing="0" cellpadding="5"><colgroup span="1"><col width="145"></colgroup><tbody><tr><th scope="col" align="left"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">日期</font></font></strong></th><th scope="col" align="left"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">笔记</font></font></strong></th></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2018年1月8日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关使用iTunes Connect网站下载的dSYM中的去混淆符号的信息。</font><font style="vertical-align: inherit;">还添加了异常代码0x2bad45ec的说明。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017年4月3日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">澄清了崩溃报告需要以.crash扩展名命名，以便使用Xcode进行符号化。</font><font style="vertical-align: inherit;">删除了对0xdeadfa11异常代码的讨论（强制退出应用程序不再生成崩溃报告）。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017年2月21日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关watchOS应用程序特定的某些终止代码的信息。</font><font style="vertical-align: inherit;">添加了有关键盘扩展可能接收SIGQUIT信号的原因的信息。  </font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017年1月3日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">为0xdead10cc异常代码添加了其他详细信息和解决方案建议。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2016年9月2日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对iOS 10进行了更新。扩展了崩溃报告符号的讨论。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2015年7月21日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新了Xcode 6.扩展了崩溃报告的讨论。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二零一二年十二月一十三日</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关更多例外代码的信息 </font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2012-03-28</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加了有关低内存崩溃报告和更多异常代码的信息。</font><font style="vertical-align: inherit;">针对Xcode 4进行了更新。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2011-03-01</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已更新以反映iOS 4.0及更高版本的更改。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2010-07-06</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修正了文档中的错误。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2010-05-18</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已更新，以反映iPhone OS 3.2 SDK和Xcode 3.2.2的更改。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-06-01</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更强调不仅需要保存.dSYM文件，还需要保存应用程序二进制文件。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-04-30</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">针对iTunes Connect崩溃日志服务进行了更新。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-02-18</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">已更新，其中包含防止应用程序代码被符号化的问题的变通方法。</font></font></p></td></tr><tr><td scope="row"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2009-01-29</font></font></td><td><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新文档，为开发人员提供基本信息，说明如何对崩溃报告进行符号化，理解和解释。 </font></font></p></td></tr></tbody></table><br>
<div id="pageNavigationLinks_bottom" class="pageNavigationLinks">

</div><br>
<div class="copyright"><br><hr><div align="center"><p class="content_text" lang="en" dir="ltr"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">版权所有©2018 Apple Inc.保留所有权利。  </font></font><a href="http://www.apple.com/legal/internet-services/terms/site.html" target="_blank" onclick="s_objectID=&quot;http://www.apple.com/legal/internet-services/terms/site.html_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用条款</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">    |  </font></font><a href="http://www.apple.com/privacy/" target="_blank" onclick="s_objectID=&quot;http://www.apple.com/privacy/_1&quot;;return this.s_oc?this.s_oc(e):true"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">隐私政策</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">   | </font><font style="vertical-align: inherit;">更新：2018-01-08</font></font></p></div></div>

<!-- /CONTENTS -->
<div id="pediaWindow">
<div id="pediaHeader"></div>
<div id="pediaBody"></div>
</div>
</article></article></body>


















